/**
*  Ajax Autocomplete for jQuery, version 0.0.24
*  (c) 2014 Tomas Kirda
*  (c) 2015 Constructor.io
*
*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.
*/
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports&&"function"==typeof require?require("jquery"):window.jQuery_1_11||window.jQuery||window.$?window.jQuery_1_11||window.jQuery||window.$:jQuery)}(function(a){"use strict";function b(a){this.key=a,this.initialize()}function c(b,d){var e=function(){},f=this,g={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:function(a){return"https://ac.cnstrc.com/autocomplete/"+f.tracker.ourEncodeURIComponent(a)},lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:c.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-container",listClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"jsonp",currentRequest:null,triggerSelectOnValidInput:!1,triggerSubmitOnSelect:!0,preventBadQueries:!0,lookupFilter:function(a,b,c){return-1!==a.value.toLowerCase().indexOf(c)},paramName:"query",transformResult:function(b){return"string"==typeof b?a.parseJSON(b):b},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1,triggerSearchOnElementClick:null,directResultUrlPrefix:null,sectionOrder:null,forceAutocompleteResults:"on"==c.utils.getUrlParam("constructorioAutocomplete")?1:0,imageWidth:null,boostRecentSearches:!0,zeroResultsPattern:null,numResultsPattern:null};f.element=b,f.el=a(b),f.suggestions=[],f.badQueries=[],f.selectedIndex=-1,f.currentValue=f.element.value,f.intervalId=0,f.cachedResponse={},f.onChangeInterval=null,f.onChange=null,f.isLocal=!1,f.suggestionsContainer=null,f.suggestionsList=null,f.noSuggestionsContainer=null,d=d||{},d.params=d.params||{},"key"in d?(d.params.autocomplete_key=d.key,f.autocompleteKey=d.key):f.autocompleteKey="",f.options=a.extend({},g,d),f.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},f.hint=null,f.hintValue="",f.selection=null,1==f.options.forceAutocompleteResults&&(f.options.params.show_autocomplete_results=1),f.autocomplete_keys_with_custom_code=[],f.initialize(),f.setOptions(d)}var d=function(){return{escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(a){var b=document.createElement("div");return b.className=a,b.style.position="absolute",b.style.display="none",b},getUrlParam:function(b){var c,d=window.location.search.substring(1),e=d.split("&");return a.each(e,function(a,d){var e=d.split("=");return e[0]==b?void(c=e[1]):void 0}),c},escapeHtml:function(a){return a.replace(/[\"&'\/<>]/g,function(a){return{'"':"&quot;","&":"&amp;","'":"&#39;","/":"&#47;","<":"&lt;",">":"&gt;"}[a]})},regExpEscape:function(a){return a.replace(/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g,"\\$&")}}}(),e={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};b.prototype={initialize:function(){this.WINDOW_VAR="constructorio",this.AUTOCOMPLETE_EVENTS_STORAGE_KEY={scope:"local",key:"_constructorio_autocomplete"},this.SEARCH_TERM_STORAGE_KEY={scope:"session",key:"_constructorio_search_term"},this.SELECTED_ITEM_STORAGE_KEY={scope:"session",key:"_constructorio_selected_item"},this.RECENT_SEARCHES_STORAGE_KEY={scope:"local",key:"_constructorio_recent_searches"},this.STORE_NUM_RECENT_SEARCHES=100;for(var a,b=100;(a=this.storageShiftArray(this.AUTOCOMPLETE_EVENTS_STORAGE_KEY))&&(this.sendPayload(a),!(b--<0)););if(window[this.WINDOW_VAR]&&window[this.WINDOW_VAR].constructor===Array)for(var c,b=100;(c=window[this.WINDOW_VAR].shift())&&(this.push(c),!(b--<0)););window[this.WINDOW_VAR]=this},trackAutocompleteEvent:function(a,b,c,d){var e="autocomplete/"+this.ourEncodeURIComponent(a)+"/"+c+"?autocomplete_key="+this.key;if(b&&(e+="&original_query="+this.ourEncodeURIComponent(b)),d&&(e+="&autocomplete_section="+this.ourEncodeURIComponent(d)),"search"===c)this.storageSetItem(this.SEARCH_TERM_STORAGE_KEY,a),this.storageRemoveFromArray(this.RECENT_SEARCHES_STORAGE_KEY,a),this.storagePushArray(this.RECENT_SEARCHES_STORAGE_KEY,a),this.storageTrimArray(this.RECENT_SEARCHES_STORAGE_KEY,this.STORE_NUM_RECENT_SEARCHES);else if("select"===c){var f={item:a,autocompleteSection:d};this.storageSetItem(this.SELECTED_ITEM_STORAGE_KEY,JSON.stringify(f))}this.storagePushArray(this.AUTOCOMPLETE_EVENTS_STORAGE_KEY,e)},push:function(a){this.trackCustomerEvent(a[0],a[1],a[2])},sendPayload:function(b){var c=this,d=Date.now()+(new Date).getMilliseconds(),e="https://ac.cnstrc.com/"+b+"&_dt="+d;a.ajax({url:e,dataType:"script",error:function(){c.storageRemoveFromArray(c.AUTOCOMPLETE_EVENTS_STORAGE_KEY,b)},success:function(){c.storageRemoveFromArray(c.AUTOCOMPLETE_EVENTS_STORAGE_KEY,b)}})},ourEncodeURIComponent:function(a){return encodeURIComponent(a.replace(/\//g,"|"))},trackCustomerEvent:function(b,c,d){var e;if(d=d||{},"trackEvent"===b){if("search"!==c&&(d.term||(d.term=this.storageGetItem(this.SEARCH_TERM_STORAGE_KEY)),!d.item)){var f=this.storageGetItem(this.SELECTED_ITEM_STORAGE_KEY);try{var g=JSON.parse(f);d.item=g.item,d.autocomplete_section=d.autocomplete_section||g.autocompleteSection}catch(h){d.item=f}}e="purchase"===c?"conversion":c;var i;(i=d.autocomplete_key)?delete d.autocomplete_key:i=this.key;var j=d.term;delete d.term;var k="autocomplete/"+j+"/"+e+"?autocomplete_key="+i+"&"+a.param(d);this.sendPayload(k)}},isRecentSearch:function(a){return this.storageIndexOfArray(this.RECENT_SEARCHES_STORAGE_KEY,a)},getStorageEngine:function(a){return"local"===a?localStorage:sessionStorage},storageGetItem:function(a){var b=this.getStorageEngine(a.scope);return b?b.getItem(a.key):void 0},storageSetItem:function(a,b){var c=this.getStorageEngine(a.scope);return c?c.setItem(a.key,b):void 0},storageRemoveItem:function(a){var b=this.getStorageEngine(a.scope);return b?b.removeItem(a.key):void 0},storagePushArray:function(a,b){var c=this.getStorageEngine(a.scope);if(c){var d=c.getItem(a.key),e=[];if(d)try{e=JSON.parse(d)}catch(f){}return e.push(b),c.setItem(a.key,JSON.stringify(e))}},storageRemoveFromArray:function(b,c){var d=this.getStorageEngine(b.scope);if(d){var e=d.getItem(b.key);if(e)try{var f=JSON.parse(e);f=a.grep(f,function(a){return a!=c}),d.setItem(b.key,JSON.stringify(f))}catch(g){}}},storageShiftArray:function(a){var b=this.getStorageEngine(a.scope);if(b){var c=b.getItem(a.key);if(!c)return null;try{var d=JSON.parse(c),e=d.shift();return b.setItem(a.key,JSON.stringify(d)),e}catch(f){}}},storageTrimArray:function(a,b){var c=this.getStorageEngine(a.scope);if(c){var d=c.getItem(a.key);if(d)try{for(var e=JSON.parse(d);e.length>b;)e.shift();c.setItem(a.key,JSON.stringify(e))}catch(f){}}},storageIndexOfArray:function(a,b){var c=this.getStorageEngine(a.scope);if(c){var d=c.getItem(a.key);if(d)try{var e=JSON.parse(d);return e.indexOf(b)}catch(f){}}return-1}},a.constructorTracker=b,c.utils=d,a.Autocomplete=c,c.formatResult=function(a,b){var c=[];return a.value.split(/\s+/).forEach(function(a){b.trim().split(/\s+/).forEach(function(b){if(0===a.toLowerCase().indexOf(b.toLowerCase())){var c=new RegExp("("+d.escapeRegExChars(b)+")(.*)","i");a=a.replace(c,"</strong>$1<strong>$2")}}),c.push(a)}),"<strong>"+c.join(" ")+"</strong>"},c.prototype={killerFn:null,initialize:function(){var d,e,f=this,g="."+f.classes.suggestion,h=f.classes.selected,i=f.options,j=new b(f.autocompleteKey);f.element.setAttribute("autocomplete","off"),f.killerFn=function(b){0===a(b.target).closest("."+f.options.containerClass).length&&(f.killSuggestions(),f.disableKillerFn())},f.noSuggestionsContainer=a('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),f.suggestionsContainer=c.utils.createNode(i.containerClass),f.suggestionsList=c.utils.createNode(i.listClass),d=a(f.suggestionsContainer),e=a(f.suggestionsList),d.appendTo(i.appendTo),e.appendTo(d),"auto"!==i.width&&(d.width(i.width),e.width(i.width)),e.on("mouseover.autocomplete",g,function(){f.activate(a(this).data("index"))}),e.on("mouseout.autocomplete",function(){f.selectedIndex=-1,e.children("."+h).removeClass(h)}),e.on("click.autocomplete",g,function(){f.select(a(this).data("index"))}),f.fixPositionCapture=function(){f.visible&&f.fixPosition()},a(window).on("resize.autocomplete",f.fixPositionCapture),f.el.on("keydown.autocomplete",function(a){f.onKeyPress(a)}),f.el.on("keyup.autocomplete",function(a){f.onKeyUp(a)}),f.el.on("blur.autocomplete",function(){f.onBlur()}),f.el.on("focus.autocomplete",function(){f.onFocus()}),f.el.on("change.autocomplete",function(a){f.onKeyUp(a)}),f.el.on("input.autocomplete",function(a){f.onKeyUp(a)}),f.tracker=j,f.el.closest("form").on("submit",function(){j.trackAutocompleteEvent(f.el.val(),f.typedQuery,"search")}),i.triggerSearchOnElementClick&&a(i.triggerSearchOnElementClick).length>0&&a(i.triggerSearchOnElementClick).on("click",function(){j.trackAutocompleteEvent(f.el.val(),f.typedQuery,"search")}),f.el.on("blur",function(){f.el.val()&&j.trackAutocompleteEvent(f.el.val(),void 0,"blur")}),f.autocomplete_keys_with_custom_code.indexOf(f.autocompleteKey)>-1&&a.getScript("https://cnstrc.com/js/customer/"+f.autocompleteKey+".js"),f.parsePageContentForTracking()},onFocus:function(){var a=this;a.fixPosition(),a.options.minChars<=a.el.val().length&&a.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(b){var c=this,d=c.options;a.extend(d,b),c.isLocal=a.isArray(d.lookup),c.isLocal&&(d.lookup=c.verifySuggestionsFormat(d.lookup)),d.orientation=c.validateOrientation(d.orientation,"bottom"),a(c.suggestionsList).css({"max-height":d.maxHeight+"px",width:d.width+"px","z-index":d.zIndex}),a(c.suggestionsContainer).css({"max-height":d.maxHeight+"px",width:d.width+"px","z-index":d.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var a=this;a.disabled=!0,clearInterval(a.onChangeInterval),a.currentRequest&&a.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var b=this,c=a(b.suggestionsContainer),d=c.parent().get(0);if(d===document.body||b.options.forceFixPosition){var e=b.options.orientation,f=c.outerHeight(),g=b.el.outerHeight(),h=b.el.offset(),i={top:h.top,left:h.left};if("auto"===e){var j=a(window).height(),k=a(window).scrollTop(),l=-k+h.top-f,m=k+j-(h.top+g+f);e=Math.max(l,m)===l?"top":"bottom"}if(i.top+="top"===e?-f:g,d!==document.body){var n,o=c.css("opacity");b.visible||c.css("opacity",0).show(),n=c.offsetParent().offset(),i.top-=n.top,i.left-=n.left,b.visible||c.css("opacity",o).hide()}"auto"===b.options.width&&(i.width=b.el.outerWidth()+"px"),c.css(i)}},enableKillerFn:function(){var b=this;a(document).on("click.autocomplete",b.killerFn)},disableKillerFn:function(){var b=this;a(document).off("click.autocomplete",b.killerFn)},killSuggestions:function(){var a=this;a.stopKillSuggestions(),a.intervalId=window.setInterval(function(){a.hide(),a.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a,b=this,c=b.el.val().length,d=b.element.selectionStart;return"number"==typeof d?d===c:document.selection?(a=document.selection.createRange(),a.moveStart("character",-c),c===a.text.length):!0},onKeyPress:function(a){var b=this;if(!b.disabled&&!b.visible&&a.which===e.DOWN&&b.currentValue)return void b.suggest();if(!b.disabled&&b.visible){switch(a.which){case e.ESC:b.el.val(b.currentValue),b.hide();break;case e.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case e.TAB:if(b.hint&&b.options.onHint)return void b.selectHint();if(-1===b.selectedIndex)return void b.hide();if(b.select(b.selectedIndex),b.options.tabDisabled===!1)return;break;case e.RETURN:if(-1===b.selectedIndex)return void b.hide();b.select(b.selectedIndex);break;case e.UP:b.moveUp();break;case e.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case e.UP:case e.DOWN:return}clearInterval(b.onChangeInterval),b.currentValue!==b.el.val()&&(b.findBestHint(),b.options.deferRequestBy>0?b.onChangeInterval=setInterval(function(){b.onValueChange()},b.options.deferRequestBy):b.onValueChange())}},onValueChange:function(){var b,c=this,d=c.options,e=c.el.val(),f=c.getQuery(e);return c.typedQuery=e,c.selection&&c.currentValue!==f&&(c.selection=null,(d.onInvalidateSelection||a.noop).call(c.element)),clearInterval(c.onChangeInterval),c.currentValue=e,c.selectedIndex=-1,d.triggerSelectOnValidInput&&(b=c.findSuggestionIndex(f),-1!==b)?void c.select(b):void(f.length<d.minChars?c.hide():c.getSuggestions(f))},parsePageContentForTracking:function(b,e){try{if(!b&&c.alreadyCalledparsePageContentForTracking)return;c.alreadyCalledparsePageContentForTracking=1;var f=this,g=a("body")[0].innerText||a("body")[0].textContent,h=-1,i=f.options.searchQueryParameter||a(f.element).attr("name");if(e||(e=d.getUrlParam(i)),"QTemDmU6YxyoONp6yBhX"==f.autocompleteKey&&(e?1!=d.getUrlParam("ft")&&(e=void 0):e=d.getUrlParam("zr")),!e)return;var j=d.regExpEscape(i+"="+e),k=!1;if(!document.referrer.match(j)&&(f.options.zeroResultsPattern&&g.match(f.options.zeroResultsPattern)&&(f.tracker.trackCustomerEvent("trackEvent","search",{term:e,num_results:0}),k=!0),!k&&f.options.numResultsPattern)){var l;(l=g.match(f.options.numResultsPattern))&&(h=l[1],f.tracker.trackCustomerEvent("trackEvent","search",{term:e,num_results:h}))}f.options.searchResultSelector&&f.options.searchResultSelector.on("click",function(){f.tracker.trackAutocompleteEvent(e,null,"click_through")})}catch(m){}},findSuggestionIndex:function(b){var c=this,d=-1,e=b.toLowerCase();return a.each(c.suggestions,function(a,b){return b.value.toLowerCase()===e?(d=a,!1):void 0}),d},getQuery:function(b){var c,d=this.options.delimiter;return d?(c=b.split(d),a.trim(c[c.length-1])):b},getSuggestionsLocal:function(b){var c,d=this,e=d.options,f=b.toLowerCase(),g=e.lookupFilter,h=parseInt(e.lookupLimit,10);return c={suggestions:a.grep(e.lookup,function(a){return g(a,b,f)})},h&&c.suggestions.length>h&&(c.suggestions=c.suggestions.slice(0,h)),c},getSuggestions:function(b){var c,d,e,f,g=this,h=g.options,i=h.serviceUrl;if(h.params[h.paramName]=b,d=h.ignoreParams?null:h.params,h.onSearchStart.call(g.element,h.params)!==!1){if(a.isFunction(h.lookup))return void h.lookup(b,function(a){g.suggestions=a.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,a.suggestions)});g.isLocal?c=g.getSuggestionsLocal(b):(a.isFunction(i)&&(i=i.call(g.element,b)),e=i+"?"+a.param(d||{}),c=g.cachedResponse[e]),c&&a.isArray(c.suggestions)?(g.suggestions=c.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,c.suggestions)):g.isBadQuery(b)?h.onSearchComplete.call(g.element,b,[]):(g.currentRequest&&g.currentRequest.abort(),f={url:i,data:d,type:h.type,dataType:h.dataType},a.extend(f,h.ajaxSettings),g.currentRequest=a.ajax(f).done(function(a){var c;g.currentRequest=null,c=h.transformResult(a),g.processResponse(c,b,e),h.onSearchComplete.call(g.element,b,c.suggestions)}).fail(function(a,c,d){h.onSearchError.call(g.element,b,a,c,d)}))}},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){var b=this;b.visible=!1,b.selectedIndex=-1,clearInterval(b.onChangeInterval),a(b.suggestionsContainer).hide(),b.signalHint(null)},suggest:function(){if(0===this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var b,c,e,f,g=this,h=g.options,i=h.groupBy,j=h.formatResult,k=g.getQuery(g.currentValue),l=g.classes.suggestion,m=g.classes.selected,n=a(g.suggestionsContainer),o=a(g.suggestionsList),p=a(g.noSuggestionsContainer),q=h.beforeRender,r="",s=function(a){var c=a.data[i];return b===c?"":(b=c,'<div class="autocomplete-group"><strong>'+b+"</strong></div>")},t=function(a){var b,d;return a.data&&(a.data.section&&(d=a.data.section.replace(/[^a-zA-Z0-9]+/g,"-").toLowerCase()),b=a.data.section&&"standard"==a.data.section?"search-suggestions":a.data.url?"direct-results":"search-suggestions"),c===b&&e===d?"":(c=b,e=d,'<div class="autocomplete-group'+(e?" autocomplete-section-"+e:"")+'" id="autocomplete-'+c+'"></div>')};if(h.triggerSelectOnValidInput&&(f=g.findSuggestionIndex(k),-1!==f))return void g.select(f);if(a.each(g.suggestions,function(a,b){i&&(r+=s(b,k,a)),b.data&&b.data.section&&(r+=t(b,k,a));var c="",e="";b.data&&b.data.image_url&&(c="<div class='autocomplete-suggestion-image'><img "+(g.options.imageWidth?"width="+g.options.imageWidth+" ":"")+"src='"+b.data.image_url+"'></div>"),b.data&&b.data.description&&(e="<br/><span class='autocomplete-suggestion-description'>"+d.escapeHtml(b.data.description)+"</span>"),r+='<div class="'+l+'" data-index="'+a+'">'+c+j(b,k)+e+"</div>"}),this.adjustContainerWidth(),p.detach(),o.html(r),a.isFunction(q)&&q.call(g.element,o),g.fixPosition(),o.show(),n.show(),g.ad_based){var u="auto"===h.width?o.outerWidth(!0):h.width;if(a("#powered-by-constructor-io").length){var v=a("#powered-by-constructor-io"),w=a("#constructorio-backing-node"),x=v.css("margin-left");w.css("top",o.outerHeight(!0)-1).css("margin-left",x).outerWidth(u),v.css("top",o.outerHeight(!0)-1).outerWidth(u)}else{var y=window.location.href.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i),z=y&&y[1],A=a("<div>").attr("id","powered-by-constructor-io").css("top",o.outerHeight(!0)-1).html('powered by <a href="http://constructor.io?utm_campaign=brauto&utm_source='+z+'" target="_new">Constructor.io</a>'),B=a("<div>").attr("id","constructorio-backing-node").css("top",o.outerHeight(!0)-1);B.appendTo(n),A.appendTo(n),B.outerWidth(u),A.outerWidth(u);var x=A.css("margin-left");B.css("height",A.height()+10).css("margin-left",x)}}h.autoSelectFirst&&(g.selectedIndex=0,o.scrollTop(0),o.children().first().addClass(m)),g.visible=!0,g.findBestHint()},noSuggestions:function(){var b=this,c=a(b.suggestionsContainer),d=a(b.noSuggestionsContainer);this.adjustContainerWidth(),d.detach(),c.empty(),c.append(d),b.fixPosition(),c.show(),b.visible=!0},adjustContainerWidth:function(){var b,c=this,d=c.options,e=a(c.suggestionsContainer),f=a(c.suggestionsList);"auto"===d.width&&(b=c.el.outerWidth()-2,e.width(b>0?b:300),f.width(b>0?b:300))},findBestHint:function(){var b=this,c=b.el.val().toLowerCase(),d=null;c&&(a.each(b.suggestions,function(a,b){var e=0===b.value.toLowerCase().indexOf(c);return e&&(d=b),!e}),b.signalHint(d))},signalHint:function(b){var c="",d=this;b&&(c=d.currentValue+b.value.substr(d.currentValue.length)),d.hintValue!==c&&(d.hintValue=c,d.hint=b,(this.options.onHint||a.noop)(c))},verifySuggestionsFormat:function(b){return b.length&&"string"==typeof b[0]?a.map(b,function(a){return{value:a,data:null}}):b},validateOrientation:function(b,c){return b=a.trim(b||"").toLowerCase(),-1===a.inArray(b,["auto","bottom","top"])&&(b=c),b},processResponse:function(a,b,c){var d=this,e=d.options,f=[];if(a.sections){if(a.suggestions=[],e.sectionOrder)f=e.sectionOrder;else for(var g in a.sections){var h=a.sections[g][0];h&&h.data&&h.data.url?f.unshift(g):f.push(g)}f.forEach(function(b){a.sections[b]=d.boostRecentSearches(a.sections[b]),a.sections[b].forEach(function(c){c.data=c.data||{},c.data.section=b,a.suggestions.push(c)})})}else a.suggestions=d.boostRecentSearches(a.suggestions);a.suggestions=d.verifySuggestionsFormat(a.suggestions),e.noCache||(d.cachedResponse[c]=a,e.preventBadQueries&&0===a.suggestions.length&&b.length>3&&d.badQueries.push(b)),b===d.getQuery(d.currentValue)&&(d.suggestions=a.suggestions,d.ad_based=a.ad_based,d.suggest())},boostRecentSearches:function(a){var b=this,c=[];return a.forEach(function(a){b.options.boostRecentSearches&&b.tracker.isRecentSearch(a.value)>-1?c.unshift(a):c.push(a)}),c},activate:function(b){var c,d=this,e=d.classes.selected,f=a(d.suggestionsList),g=f.find("."+d.classes.suggestion);return f.find("."+e).removeClass(e),d.selectedIndex=b,-1!==d.selectedIndex&&g.length>d.selectedIndex?(c=g.get(d.selectedIndex),a(c).addClass(e),c):null},selectHint:function(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function(a){var b=this;b.hide(),b.onSelect(a)},moveUp:function(){var b=this;if(-1!==b.selectedIndex)return 0===b.selectedIndex?(a(b.suggestionsList).children().first().removeClass(b.classes.selected),b.selectedIndex=-1,b.el.val(b.currentValue),void b.findBestHint()):void b.adjustScroll(b.selectedIndex-1)},moveDown:function(){var a=this;a.selectedIndex!==a.suggestions.length-1&&a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(b){var c=this,d=c.activate(b);if(d){var e,f,g,h=a(d).outerHeight();e=d.offsetTop,f=a(c.suggestionsContainer).scrollTop(),g=f+c.options.maxHeight-h,f>e?(a(c.suggestionsContainer).scrollTop(e),a(c.suggestionsList).scrollTop(e)):e>g&&(a(c.suggestionsContainer).scrollTop(e-c.options.maxHeight+h),a(c.suggestionsList).scrollTop(e-c.options.maxHeight+h)),c.options.preserveInput||c.el.val(c.getValue(c.suggestions[b].value)),c.signalHint(null)}},onSelect:function(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];a.isFunction(d)&&d.call(c.element,e),c.currentValue=c.getValue(e.value),c.currentValue===c.el.val()||c.options.preserveInput||c.el.val(c.currentValue),c.signalHint(null),c.suggestions=[],c.selection=e,c.tracker.trackAutocompleteEvent(e.value,c.typedQuery,"select",e.data?e.data.section:void 0),c.options.triggerSubmitOnSelect&&(e.data&&e.data.url?(c.tracker.trackAutocompleteEvent(c.el.val(),c.typedQuery,"search"),window.location.href=(c.options.directResultUrlPrefix?c.options.directResultUrlPrefix:"")+e.data.url):c.el.closest("form").submit())},getValue:function(a){var b,c,d=this,e=d.options.delimiter;return e?(b=d.currentValue,c=b.split(e),1===c.length?a:b.substr(0,b.length-c[c.length-1].length)+a):a},dispose:function(){var b=this;b.el.off(".autocomplete").removeData("autocomplete"),b.disableKillerFn(),a(window).off("resize.autocomplete",b.fixPositionCapture),a(b.suggestionsContainer).remove()}},a.fn.constructorAutocomplete=function(b,d){var e="autocomplete",f=document.createElement("style");return f.type="text/css",f.innerHTML=".autocomplete-container {  overflow: visible;}.autocomplete-suggestions {  border: 1px solid #999;  background: #FFF;  overflow-x: hidden;  overflow-y: auto;  cursor: default;}.autocomplete-suggestion {  padding: 2px 5px;  white-space: nowrap;  overflow: hidden;}.autocomplete-selected {  background: #F0F0F0;}.autocomplete-container strong {  font-weight: bold;}#powered-by-constructor-io {  font-size: 0.8em;  text-align:right;  background-color:rgb(255,255,192);  font-family:sans-serif;  padding: 4px 10px;  position: absolute;  border: 1px solid #999;}#constructorio-backing-node {  background-color:rgb(255,255,255);  padding: 4px 10px;  position: absolute;  border: 1px solid #FFF;}.autocomplete-suggestion-image {  float:left;  padding-right: 10px;}#autocomplete-direct-results:before {  content:'Products'}#autocomplete-search-container:before {  content:'Search Suggestions'}.autocomplete-suggestion-description {  font-size: 0.8em;  display: block;  margin-left: 10px;  line-height: 1.0em;}",a("head")[0].insertBefore(f,a("head")[0].firstChild),0===arguments.length?this.first().data(e):this.each(function(){var f=a(this),g=f.data(e);"string"==typeof b?g&&"function"==typeof g[b]&&g[b](d):(g&&g.dispose&&g.dispose(),g=new c(this,b),f.data(e,g))})}});