if(!window.localStorage){window.localStorage={getItem:function(a){if(!a||!this.hasOwnProperty(a)){return null}return window.unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+window.escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))},key:function(a){return window.unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[a])},setItem:function(a,b){if(!a){return}document.cookie=window.escape(a)+"="+window.escape(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/";this.length=document.cookie.match(/\=/g).length;return},length:0,removeItem:function(a){if(!a||!this.hasOwnProperty(a)){return}document.cookie=window.escape(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";this.length-=1;return},hasOwnProperty:function(a){return(new RegExp("(?:^|;\\s*)"+window.escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)}};window.localStorage.length=(document.cookie.match(/\=/g)||window.localStorage).length}if(!Array.prototype.filter){Array.prototype.filter=function(b){if(typeof b!=="function"){throw new TypeError()}var a=this.length,e=[],d=arguments[1],c,f;for(c=0;c<a;c+=1){if(c in this){f=this[c];if(b.call(d,f,c,this)){e.push(f)}}}return e}}if(!Array.prototype.map){Array.prototype.map=function(i,h){var b,a,c,e,f,d,g;if(this===null||this===undefined){throw new TypeError(" this is null or not defined")}e=this;f=e.length>>>0;if({}.toString.call(i)!=="[object Function]"){throw new TypeError(i+" is not a function")}if(h){b=h}a=new Array(f);c=0;while(c<f){if(c in e){d=e[c];g=i.call(b,d,c,e);a[c]=g}c+=1}return a}}if(!window.UniversalAddEvent){window.UniversalAddEvent=(function(){var j,c,g,d;function b(l){if(l===window){return"theWindow"}else{if(l===document){return"theDocument"}else{if(typeof l.uniqueID!=="undefined"){return l.uniqueID}}}var k="__$$GUID$$__";if(typeof l[k]==="undefined"){l[k]=k+c;c+=1}return l[k]}function f(k,l){g[k]=l}function a(k){return g[k]}function i(l,m,k){return"{"+b(l)+"/"+m+"/"+b(k)+"}"}function h(k,l,m){if(k===l){return false}var n=0;while(l&&l!==k){n+=1;l=l.parentNode}m=m||n;return l===k&&m===n}function e(l){var k,m,n;k=j.Helper.getObjectGUID(l);m=g[k];if(typeof m==="undefined"){m=g[k]=function(o){n=o.relatedTarget;if(this===n||h(this,n)){return}l.call(this,o)}}return m}j={};c=0;g={};d={mouseenter:function(m,k,l){var n=e(m);if(l){j.addEvent(this,"mouseover",n,k,false)}else{j.removeEvent(this,"mouseover",n,k,false)}n=null},mouseleave:function(m,k,l){var n=e(m);if(l){j.addEvent(this,"mouseout",n,k,false)}else{j.removeEvent(this,"mouseout",n,k,false)}n=null}};j.Helper={getObjectGUID:b,storeHandler:f,retrieveHandler:a,isAnAncestorOf:h,mouseEnter:e};j.addEvent=(function(){function l(p,r,o,n,q){var m=d[r];if(typeof m==="function"&&q!==false){m.call(p,o,n,true)}else{p.addEventListener(r,o,n)}}function k(q,t,p,n,s){var m,o,r;m=d[t];if(typeof m==="function"&&s!==false){m.call(q,p,n,true)}else{o=i(q,t,p);r=g[o];if(typeof r!=="undefined"){return}r=function(u){u.target=u.srcElement;if(t==="mouseover"){u.relatedTarget=u.fromElement}else{if(t==="mouseout"){u.relatedTarget=u.toElement}}u.preventDefault=function(){u.returnValue=false};u.stopPropagation=function(){u.cancelBubble=true};p.call(q,u);u.target=null;u.relatedTarget=null;u.preventDefault=null;u.stopPropagation=null;u=null};g[o]=r;q.attachEvent("on"+t,r);o=null;r=null}}if(typeof document.addEventListener!=="undefined"){return l}else{if(typeof document.attachEvent!=="undefined"){return k}else{return function(){}}}}());j.removeEvent=(function(){function l(p,r,o,n,q){var m=d[r];if(typeof m==="function"&&q!==false){m.call(p,o,n,false)}else{p.removeEventListener(r,o,n)}}function k(q,t,p,n,s){var m,o,r;m=d[t];if(typeof m==="function"&&s!==false){m.call(q,p,n,false)}else{o=i(q,t,p);r=g[o];if(typeof r!=="undefined"){q.detachEvent("on"+t,r);delete g[o]}o=null;r=null}return this}if(typeof document.removeEventListener!=="undefined"){return l}else{if(typeof document.detachEvent!=="undefined"){return k}else{return function(){}}}}());j.defineEvent=function(l,k){d[l]=k};return j.addEvent}())}window.AdperfPublisher_VERSION="13071801";if(typeof window.AdperfPublisher!=="object"||parseInt(window.AdperfPublisher.VERSION||0,10)<parseInt(window.AdperfPublisher_VERSION,10)){window.AdperfPublisher=(function(){var f,l,o,m,n,d,b,e,j,k,g,c,h,a,i;o=window.AdperfPublisher_VERSION;m={};e=[];j={};k=false;g="http://cstatic.weborama.fr/transp.gif";c=[];a=0;i=[];n=false;h={SYNC:{domready:false,async:false,toInt:0},ASYNC:{domready:false,async:true,toInt:1},SYNC_DOMREADY:{domready:true,async:false,toInt:2},ASYNC_DOMREADY:{domready:true,async:true,toInt:3}};d={Boolean:function(p){return !!parseInt(p,10)},Int:function(q){var p=parseInt(q,10);if(isNaN(p)){return 0}else{return p}},String:function(p){if(p!==undefined||p!==null){return String(p)}else{return String()}},Array:function(p){if(p===undefined||p===null){return[]}else{if(p instanceof Array){return p}else{return[p]}}},StrToArrayOfInt:function(p){if(p===undefined||p===null){return[]}else{if(p instanceof Array){return p}else{if(typeof p==="string"){return p.split(",").map(function(q){return d.Int(q)})}else{return[p]}}}},Hash:function(r){var q,p;if(r instanceof Array){q={};for(p=0;p<r.length;p+=1){if(r[p] instanceof Array&&r[p].length===2){q[r[p][0]]=r[p][1]}}return q}else{if(r instanceof Object){return r}}return{}},Stack:function(p){if(typeof p==="string"&&typeof h[p]==="object"){return h[p]}else{if(typeof p==="object"){return p}}return h.ASYNC}};b={set:function(q,p,r){window.localStorage.setItem("AdperfPublisher:"+q+":"+p,r);return r},setExpire:function(r,p,q){if(q>0){var s=new Date().getTime()+q*1000;window.localStorage.setItem("AdperfPublisher:"+r+":"+p+":expire",s)}else{b.del(r,p)}},hasExpire:function(r,q){var s,p;s=parseInt(window.localStorage.getItem("AdperfPublisher:"+r+":"+q+":expire"),10);if(!isNaN(s)){p=(new Date().getTime()-s)/1000;return p>=0||p<=-300}else{return false}},del:function(q,p){window.localStorage.removeItem("AdperfPublisher:"+q+":"+p);window.localStorage.removeItem("AdperfPublisher:"+q+":"+p+":expire");return},coerce:function(q,p){if(typeof p==="function"){return p(q)}else{if(typeof p==="string"&&typeof d[p]==="function"){return d[p](q)}else{return q}}},get:function(r,p,q){var s;if(!b.hasExpire(r,p)){s=window.localStorage.getItem("AdperfPublisher:"+r+":"+p)}else{b.del(r,p)}return b.coerce(s,q)},inc:function(r,q,p){var s=parseInt(p,10);if(isNaN(s)){s=1}return b.set(r,q,b.get(r,q,"Int")+s)},getRandom:function(){return(new Date()).getTime()*1000+parseInt(Math.random()*1000,10)},run:function(t){var p,r,q;if(!t){b.debug("Miss domain ...");return}if(n&&!b.slots.binded()){b.debug("You cannot mix cache code and non cache code in the same page with the old API!");return}b.init(t);q=b.url.base()+b.url.queryString();b.debug("URL : "+q);document.write('<script type="text/javascript" src="'+q+'"><\/script>');return},init:function(s){var q,p,r;b.debug("Init domain : "+s);p=false;r=function(){if(o!==window.AdperfPublisher_VERSION){b.debug("old code, skip it : "+o+" vs "+window.AdperfPublisher_VERSION);return false}if(p){return false}p=true;b.debug("Event (Load/Unload) : "+s);b.finish(s);b.count.fire(s,h.SYNC_DOMREADY);b.count.fire(s,h.ASYNC_DOMREADY);return true};q=function(){if(!r()){return}b.element.purge("script",{src:new RegExp(/adperf_publisher_retry/)},document.body);if(f===undefined){if(c.length!==0){if(!b.get(s,"diags_alert","Boolean")){b.set(s,"diags_alert",1);b.setExpire(s,"diags_alert",10);alert("Please open your console (F12), the diagnostic will appear there !\n")}f=setInterval(function(){if(b.consoleOpen()){clearInterval(f);b.diag.display()}return},1000)}}return};window.UniversalAddEvent(window,"load",q);window.UniversalAddEvent(window,"DOMContentLoaded",q);window.UniversalAddEvent(window,"unload",r);return},finish:function(p){b.debug("Finish "+p);b.purgeVars(p);b.count.fireAll(p);return},debug:function(p){return},debugOn:function(){b.debug=function(p){if(b.consoleOpen()){console.log(p)}return}},debugOff:function(){b.debug=function(p){return}},consoleOpen:function(){if(!!navigator.userAgent.match(/Firefox/)){return window.console&&(console.firebug||console.table&&/firebug/i.test(console.table()))}else{return window.console!==undefined&&window.console.log!==undefined}},params:function(p,s,q){var r="wr_"+p;if(r!=="wr_host"){e.push(r)}if(window[r]===undefined&&q!==undefined){return q}else{return b.coerce(window[r],s)}},toQueryString:function(s){var p=[],r,q;q=function(t){return window.escape(t)};for(r in s){if(s[r]!==undefined&&s[r]!==null){if(s[r] instanceof Array){p.push(r+"="+window.escape(s[r].map(q).join(",")))}else{if(s[r] instanceof Object){p.push(r+"="+window.escape(b.hash.toString(s[r])))}else{if(s[r]===true||s[r]===false){p.push(r+"="+(s[r]===true?1:0))}else{p.push(r+"="+window.escape(s[r]))}}}}}return p.join("&")},url:{base:function(){return"http://"+b.params("host","String","aimfar")+".solution.weborama.fr/fcgi-bin/diff.fcgi?"},queryString:function(){n=b.params("cache","Boolean");return b.toQueryString({v:o,r:b.getRandom(),ids:b.params("site","Int",null),pageid:b.params("page","Int",null),ide:b.params("board","Array",null),emp:b.params("boardsize","Array",["1x1"]),kp:b.params("detail","String",null),cl:b.params("crealist","Array",null),al:b.params("advlist","Array",null),cal:b.params("camplist","Array",null),model:b.params("model","String",null),wthema:b.params("thema","String",null),floating:window.top===window.self?b.params("floating","Boolean",false):false,ext_params:b.params("extparams","String",null),ref:b.url.ref(),url:b.url.loc(),ext_click:b.params("click","Array",null),ext_display:b.params("display","Array",null),nsa:b.params("ex_secteurs","Array",null),bak:b.params("backup","String",null),cache:n,dynkeys:b.params("dynamic_keys","Hash",null),auf:b.params("autofit","Array",null),aod:b.params("aod","Boolean",null),mask:b.params("mask","String",null),light:b.params("light","Boolean",null),apubs:b.count.creatives.seen(b.params("host","String",null)),ckp:b.params("cookie_pooling","Boolean",null)})},top:function(){var p=window.self;try{while(typeof(p.top.location.href)==="string"&&typeof(p.top.document.referrer)==="string"&&p!==p.top){p=p.top}}catch(q){}return p},ref:function(){var p=b.url.top().document.referrer;return p.length?p:null},loc:function(){var p=b.url.top().location.href;return p.length?p:null}},purgeVars:function(q){var p;if(b.params("host","String")===q){while((p=e.shift())!==undefined){window[p]=undefined}}},hash:{get:function(r,s){var t=r,q,p;for(q=0;q<s.length;q+=1){p=s[q];if(typeof t[p]==="undefined"){return undefined}t=t[p]}return t},set:function(r,s,u){var t=r,q,p;for(q=0;q<s.length;q+=1){p=s[q];if(q===s.length-1){t[p]=u}else{if(typeof t[p]!=="object"){t[p]={}}t=t[p]}}},first:function(q){for(var p in q){if(p){return p}}return},toString:function(s,q){var r=[],p;if(q===undefined){q=","}for(p in s){if(p){r.push(window.escape(p)+":"+window.escape(s[p]))}}return r.join(q)},remove:function(r,s){var t=r,q,p;for(q=0;q<s.length;q+=1){p=s[q];if(q===s.length-1){delete t[p]}else{if(typeof t[p]!=="object"){return}t=t[p]}}}},element:{inject:function(u,p,r){var t,q,s;t=document.createElement(u);if(typeof p==="object"){for(q in p){if(q){s=p[q];if(s!==null&&s!==undefined){if(typeof s==="object"){if(q==="style"){t.style.cssText=b.hash.toString(s,";")}else{t[q]=b.hash.toString(s,";")}}else{t[q]=s}}}}}if(r!==undefined){r.appendChild(t)}else{i.push(t)}return},purge:function(r,y,u){var q,w,p,t,v,s,x;if(u===undefined){return}q=u.getElementsByTagName(r);p=[];for(t=0;t<q.length;t+=1){w=q.item(t);s=1;for(v in y){if((x=y[v])!==undefined){if(!w[v].match(x)){s=0;break}}}if(s){p.push(w)}}p.map(function(z){z.parentNode.removeChild(z);return})}},count:{push:function(t,q,v,s,r){var u,p;q=b.coerce(q,"Stack");u=[t,"a_"+q.toInt,"p_"+v,"c_"+s];if(n&&!b.slots.binded()){q=h.ASYNC_DOMREADY;u=[t,"a_"+q.toInt,"p_"+v,"c_"+s]}p=b.coerce(b.hash.get(m,u),"Array");p.push(r);b.hash.set(m,u,p);if(!isNaN(parseInt(s,10))){b.count.creatives.push(t,s)}return},remove:function(r,p,u,q){var s,t;p=b.coerce(p,"Stack");s=[r,"a_"+p.toInt,"p_"+u,"c_"+q];b.hash.remove(m,s);while(s.pop()!==undefined){t=b.hash.get(m,s);if(typeof t==="object"&&b.hash.first(t)===undefined){b.hash.remove(m,s)}else{return}}return},fireAll:function(p){b.count.fire(p,h.SYNC);b.count.fire(p,h.ASYNC)},fire:function(q,v){var r,z,y,u,t,w,x,p,s;v=b.coerce(v,"Stack");r=q+" "+(v.async?"async":"sync")+" "+(v.domready?"domready":"");z=[q,"a_"+v.toInt];y=b.hash.get(m,z);if(y===undefined){return}if(!v.async){s=function(){b.count.fire(q,v)}}u=b.hash.first(y);if(u!==undefined){t=b.hash.first(y[u]);if(t!==undefined){x=y[u][t];p=x.shift();if(p!==undefined){b.debug(r+" > Fire "+u+" / "+t+" : "+p);if(x.length===0){b.count.remove(q,v,u.substr(2),t.substr(2))}w=1;b.element.inject("img",{src:p,style:{width:"1px",height:"1px",display:"none"},onload:s,onerror:s})}}}if(w&&v.async){b.count.fire(q,v)}return},creatives:{push:function(q,p){if(!q){return}var r=b.count.creatives.seen(q);r.push(p);b.set(q,"creatives",r.sort().filter(function(t,s){return t!==r[s+1]}));b.setExpire(q,"creatives",5);return},seen:function(p){if(!p){return}return b.get(p,"creatives","StrToArrayOfInt")},wipe:function(p){if(!p){return}b.del(p,"creatives");return}}},slots:{add:function(r,q,p){var t,s;s=[r,q];t=b.coerce(b.hash.get(j,s),"Array");t.push(p);b.hash.set(j,s,t);return},fire:function(t,r,p,s){if(parseInt(r,10)!==0){b.slots.fire(t,0)}var v,u,q;u=[t,r];v=b.coerce(b.hash.get(j,u),"Array");if(v.length){while((q=v.shift())!==undefined){document.write('<script type="text/javascript">'+q+"<\/script>")}}else{if(p!==undefined&&s!==undefined){b.element.inject("img",{src:g,width:p,height:s,border:0},document.body)}}return},bind:function(){k=true;window.wr_aff_pub=function(s,p,q){b.debug("Binding Cache mode");var r=b.params("host","String");b.slots.fire(r,s,p,q);b.count.fireAll(r);return};window.wr_has_pub=function(p){return};window.wr_size_pub=function(p){return}},binded:function(){return k}},diag:{add:function(p){c.push(p);return},display:function(){var q,s,r,p;b.debugOn();b.debug("**** DIAGNOSTICS OF YOUR PREVIEW ***");b.debug(" ");while((q=c.shift())!==undefined){p="Creative "+q.creative+" : "+q.label;b.debug(p);b.debug(new Array(p.length+5).join("="));s=q.diag;for(r in s){if(typeof s[r]==="object"){b.debug("Placement "+r+" ( "+s[r].label+" ) : "+s[r].reasons)}}b.debug(" ")}b.debug("**** END DIAGNOSTICS OF YOUR PREVIEW ***");b.debug(" ");b.debugOff();return}}};return{init:b.init,run:b.run,finish:b.finish,count:b.count,slots:b.slots,diag:b.diag,debugOn:b.debugOn,debug:b.debug,VERSION:o}}())}if(window.wr_upgrade_api){window.AdperfPublisher.debug("Upgrade JS to v"+window.AdperfPublisher_VERSION);window.wr_upgrade_api();window.wr_upgrade_api=undefined}else{if(window.wr_host){window.AdperfPublisher.run(window.wr_host)}};