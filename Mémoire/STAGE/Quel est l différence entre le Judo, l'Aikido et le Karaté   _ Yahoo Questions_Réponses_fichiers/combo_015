/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("uploader-queue",function(e,t){var n=function(){this.queuedFiles=[],this.uploadRetries={},this.numberOfUploads=0,this.currentUploadedByteValues={},this.currentFiles={},this.totalBytesUploaded=0,this.totalBytes=0,n.superclass.constructor.apply(this,arguments)};e.extend(n,e.Base,{_currentState:n.STOPPED,initializer:function(){},_uploadStartHandler:function(e){var t=e;t.file=e.target,t.originEvent=e,this.fire("uploadstart",t)},_uploadErrorHandler:function(e){var t=this.get("errorAction"),r=e,i,s;r.file=e.target,r.originEvent=e,this.numberOfUploads-=1,delete this.currentFiles[e.target.get("id")],this._detachFileEvents(e.target),e.target.cancelUpload(),t===n.STOP?this.pauseUpload():t===n.RESTART_ASAP?(i=e.target.get("id"),s=this.uploadRetries[i]||0,s<this.get("retryCount")&&(this.uploadRetries[i]=s+1,this.addToQueueTop(e.target)),this._startNextFile()):t===n.RESTART_AFTER&&(i=e.target.get("id"),s=this.uploadRetries[i]||0,s<this.get("retryCount")&&(this.uploadRetries[i]=s+1,this.addToQueueBottom(e.target)),this._startNextFile()),this.fire("uploaderror",r)},_startNextFile:function(){if(this.queuedFiles.length>0){var e=this.queuedFiles.shift(),t=e.get("id"),n=this.get("perFileParameters"),r=n.hasOwnProperty(t)?n[t]:n;this.currentUploadedByteValues[t]=0,e.on("uploadstart",this._uploadStartHandler,this),e.on("uploadprogress",this._uploadProgressHandler,this),e.on("uploadcomplete",this._uploadCompleteHandler,this),e.on("uploaderror",this._uploadErrorHandler,this),e.on("uploadcancel",this._uploadCancelHandler,this),e.set("xhrHeaders",this.get("uploadHeaders")),e.set("xhrWithCredentials",this.get("withCredentials")),e.startUpload(this.get("uploadURL"),r,this.get("fileFieldName")),this._registerUpload(e)}},_registerUpload:function(e){this.numberOfUploads+=1,this.currentFiles[e.get("id")]=e},_unregisterUpload:function(e){this.numberOfUploads>0&&(this.numberOfUploads-=1),delete this.currentFiles[e.get("id")],delete this.uploadRetries[e.get("id")],this._detachFileEvents(e)},_detachFileEvents:function(e){e.detach("uploadstart",this._uploadStartHandler),e.detach("uploadprogress",this._uploadProgressHandler),e.detach("uploadcomplete",this._uploadCompleteHandler),e.detach("uploaderror",this._uploadErrorHandler),e.detach("uploadcancel",this._uploadCancelHandler)},_uploadCompleteHandler:function(t){this._unregisterUpload(t.target),this.totalBytesUploaded+=t.target.get("size"),delete this.currentUploadedByteValues[t.target.get("id")],this.queuedFiles.length>0&&this._currentState===n.UPLOADING&&this._startNextFile();var r=t,i=this.totalBytesUploaded,s=Math.min(100,Math.round(1e4*i/this.totalBytes)/100);r.file=t.target,r.originEvent=t,e.each(this.currentUploadedByteValues,function(e){i+=e}),this.fire("totaluploadprogress",{bytesLoaded:i,bytesTotal:this.totalBytes,percentLoaded:s}),this.fire("uploadcomplete",r),this.queuedFiles.length===0&&this.numberOfUploads<=0&&(this.fire("alluploadscomplete"),this._currentState=n.STOPPED)},_uploadCancelHandler:function(e){var t=e;t.originEvent=e,t.file=e.target,this.fire("uploadcancel",t)},_uploadProgressHandler:function(t){this.currentUploadedByteValues[t.target.get("id")]=t.bytesLoaded;var n=t,r=this.totalBytesUploaded,i=Math.min(100,Math.round(1e4*r/this.totalBytes)/100);n.originEvent=t,n.file=t.target,this.fire("uploadprogress",n),e.each(this.currentUploadedByteValues,function(e){r+=e}),this.fire("totaluploadprogress",{bytesLoaded:r,bytesTotal:this.totalBytes,percentLoaded:i})},startUpload:function(){this.queuedFiles=this.get("fileList").slice(0),this.numberOfUploads=0,this.currentUploadedByteValues={},this.currentFiles={},this.totalBytesUploaded=0,this._currentState=n.UPLOADING;while(this.numberOfUploads<this.get("simUploads")&&this.queuedFiles.length>0)this._startNextFile()},pauseUpload:function(){this._currentState=n.STOPPED},restartUpload:function(){this._currentState=n.UPLOADING;while(this.numberOfUploads<this.get("simUploads"))this._startNextFile()},forceReupload:function(e){var t=e.get("id");this.currentFiles.hasOwnProperty(t)&&(e.cancelUpload(),this._unregisterUpload(e),this.addToQueueTop(e),this._startNextFile())},addToQueueTop:function(e){this.queuedFiles.unshift(e)},addToQueueBottom:function(e){this.queuedFiles.push(e)},cancelUpload:function(e){var t,r,i;if(e){t=e.get("id");if(this.currentFiles[t])this.currentFiles[t].cancelUpload(),this._unregisterUpload(this.currentFiles[t]),this._currentState===n.UPLOADING&&this._startNextFile();else for(r=0,len=this.queuedFiles.length;r<len;r++)if(this.queuedFiles[r].get("id")===t){this.queuedFiles.splice(r,1);break}}else{for(i in this.currentFiles)this.currentFiles[i].cancelUpload(),this._unregisterUpload(this.currentFiles[i]);this.currentUploadedByteValues={},this.currentFiles={},this.totalBytesUploaded=0,this.fire("alluploadscancelled"),this._currentState=n.STOPPED}}},{CONTINUE:"continue",STOP:"stop",RESTART_ASAP:"restartasap",RESTART_AFTER:"restartafter",STOPPED:"stopped",UPLOADING:"uploading",NAME:"uploaderqueue",ATTRS:{simUploads:{value:2,validator:function(e){return e>=1&&e<=5}},errorAction:{value:"continue",validator:function(e){return e===n.CONTINUE||e===n.STOP||e===n.RESTART_ASAP||e===n.RESTART_AFTER}},bytesUploaded:{readOnly:!0,value:0},bytesTotal:{readOnly:!0,value:0},fileList:{value:[],lazyAdd:!1,setter:function(t){var n=t;return e.Array.each(n,function(e){this.totalBytes+=e.get("size")},this),t}},fileFieldName:{value:"Filedata"},uploadURL:{value:""},uploadHeaders:{value:{}},withCredentials:{value:!0},perFileParameters:{value:{}},retryCount:{value:3}}}),e.namespace("Uploader"),e.Uploader.Queue=n},"3.17.2",{requires:["base"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("uploader-html5",function(e,t){function i(){i.superclass.constructor.apply(this,arguments)}var n=e.Lang.sub,r=e.Uploader.Queue;e.UploaderHTML5=e.extend(i,e.Widget,{_fileInputField:null,_buttonBinding:null,queue:null,initializer:function(){this._fileInputField=null,this.queue=null,this._buttonBinding=null,this._fileList=[],this.publish("fileselect"),this.publish("uploadstart"),this.publish("fileuploadstart"),this.publish("uploadprogress"),this.publish("totaluploadprogress"),this.publish("uploadcomplete"),this.publish("alluploadscomplete"),this.publish("uploaderror"),this.publish("dragenter"),this.publish("dragover"),this.publish("dragleave"),this.publish("drop")},renderUI:function(){var t=this.get("contentBox"),n=this.get("selectFilesButton");n.setStyles({width:"100%",height:"100%"}),t.append(n),this._fileInputField=e.Node.create(i.HTML5FILEFIELD_TEMPLATE),t.append(this._fileInputField)},bindUI:function(){this._bindSelectButton(),this._setMultipleFiles(),this._setFileFilters(),this._bindDropArea(),this._triggerEnabled(),this.after("multipleFilesChange",this._setMultipleFiles,this),this.after("fileFiltersChange",this._setFileFilters,this),this.after("enabledChange",this._triggerEnabled,this),this.after("selectFilesButtonChange",this._bindSelectButton,this),this.after("dragAndDropAreaChange",this._bindDropArea,this),this.after("tabIndexChange",function(){this.get("selectFilesButton").set("tabIndex",this.get("tabIndex"))},this),this._fileInputField.on("change",this._updateFileList,this),this._fileInputField.on("click",function(e){e.stopPropagation()},this),this.get("selectFilesButton").set("tabIndex",this.get("tabIndex"))},_rebindFileField:function(){this._fileInputField.remove(!0),this._fileInputField=e.Node.create(i.HTML5FILEFIELD_TEMPLATE),this.get("contentBox").append(this._fileInputField),this._fileInputField.on("change",this._updateFileList,this),this._setMultipleFiles(),this._setFileFilters()},_bindDropArea:function(e){var t=e||{prevVal:null},n=this.get("dragAndDropArea");t.prevVal!==null&&(t.prevVal.detach("drop",this._ddEventHandler),t.prevVal.detach("dragenter",this._ddEventHandler),t.prevVal.detach("dragover",this._ddEventHandler),t.prevVal.detach("dragleave",this._ddEventHandler)),n!==null&&(n.on("drop",this._ddEventHandler,this),n.on("dragenter",this._ddEventHandler,this),n.on("dragover",this._ddEventHandler,this),n.on("dragleave",this._ddEventHandler,this))},_bindSelectButton:function(){this._buttonBinding=this.get("selectFilesButton").on("click",this.openFileSelectDialog,this)},_ddEventHandler:function(t){t.stopPropagation(),t.preventDefault();if(e.Array.indexOf(t._event.dataTransfer.types,"Files")>-1)switch(t.type){case"dragenter":this.fire("dragenter");break;case"dragover":this.fire("dragover");break;case"dragleave":this.fire("dragleave");break;case"drop":var n=t._event.dataTransfer.files,r=[],i=this.get("fileFilterFunction"),s;i?e.each(n,function(t){var n=new e.FileHTML5(t);i(n)&&r.push(n)}):e.each(n,function(t){r.push(new e.FileHTML5(t))}),r.length>0&&(s=this.get("fileList"),this.set("fileList",this.get("appendNewFiles")?s.concat(r):r),this.fire("fileselect",{fileList:r})),this.fire("drop",{fileList:r})}},_setButtonClass:function(e,t){t?this.get("selectFilesButton").addClass(this.get("buttonClassNames")[e]):this.get("selectFilesButton").removeClass(this.get("buttonClassNames")[e])},_setMultipleFiles:function(){this.get("multipleFiles")===!0?this._fileInputField.set("multiple","multiple"):this._fileInputField.set("multiple","")},_setFileFilters:function(){this.get("fileFilters").length>0?this._fileInputField.set("accept",this.get("fileFilters").join(",")):this._fileInputField.set("accept","")},_triggerEnabled:function(){this.get("enabled")&&this._buttonBinding===null?(this._bindSelectButton(),this._setButtonClass("disabled",!1),this.get("selectFilesButton").setAttribute("aria-disabled","false")):!this.get("enabled")&&this._buttonBinding&&(this._buttonBinding.detach(),this._buttonBinding=null,this._setButtonClass("disabled",!0),this.get("selectFilesButton").setAttribute("aria-disabled","true"))},_getFileList:function(){return this._fileList.concat()},_setFileList:function(e){return this._fileList=e.concat(),this._fileList.concat()},_updateFileList:function(t){var n=t.target.getDOMNode().files,r=[],i=this.get("fileFilterFunction"),s;i?e.each(n,function(t){var n=new e.FileHTML5(t);i(n)&&r.push(n)}):e.each(n,function(t){r.push(new e.FileHTML5(t))}),r.length>0&&(s=this.get("fileList"),this.set("fileList",this.get("appendNewFiles")?s.concat(r):r),this.fire("fileselect",{fileList:r})),this._rebindFileField()},_uploadEventHandler:function(e){switch(e.type){case"file:uploadstart":this.fire("fileuploadstart",e);break;case"file:uploadprogress":this.fire("uploadprogress",e);break;case"uploaderqueue:totaluploadprogress":this.fire("totaluploadprogress",e);break;case"file:uploadcomplete":this.fire("uploadcomplete",e);break;case"uploaderqueue:alluploadscomplete":this.queue=null,this.fire("alluploadscomplete",e);break;case"file:uploaderror":case"uploaderqueue:uploaderror":this.fire("uploaderror",e);break;case"file:uploadcancel":case"uploaderqueue:uploadcancel":this.fire("uploadcancel",e)}},openFileSelectDialog:function(){var e=this._fileInputField.getDOMNode();e.click&&e.click()},upload:function(t,n,r){var i=n||this.get("uploadURL"),s=r||this.get("postVarsPerFile"),o=t.get("id");s=s.hasOwnProperty(o)?s[o]:s,t instanceof e.FileHTML5&&(t.on("uploadstart",this._uploadEventHandler,this),t.on("uploadprogress",this._uploadEventHandler,this),t.on("uploadcomplete",this._uploadEventHandler,this),t.on("uploaderror",this._uploadEventHandler,this),t.on("uploadcancel",this._uploadEventHandler,this),t.startUpload(i,s,this.get("fileFieldName")))},uploadAll:function(e,t){this.uploadThese(this.get("fileList"),e,t)},uploadThese:function(t,n,i){if(!this.queue){var s=n||this.get("uploadURL"),o=i||this.get("postVarsPerFile");this.queue=new r({simUploads:this.get("simLimit"),errorAction:this.get("errorAction"
),fileFieldName:this.get("fileFieldName"),fileList:t,uploadURL:s,perFileParameters:o,retryCount:this.get("retryCount"),uploadHeaders:this.get("uploadHeaders"),withCredentials:this.get("withCredentials")}),this.queue.on("uploadstart",this._uploadEventHandler,this),this.queue.on("uploadprogress",this._uploadEventHandler,this),this.queue.on("totaluploadprogress",this._uploadEventHandler,this),this.queue.on("uploadcomplete",this._uploadEventHandler,this),this.queue.on("alluploadscomplete",this._uploadEventHandler,this),this.queue.on("uploadcancel",this._uploadEventHandler,this),this.queue.on("uploaderror",this._uploadEventHandler,this),this.queue.startUpload(),this.fire("uploadstart")}else this.queue._currentState===r.UPLOADING&&(this.queue.set("perFileParameters",this.get("postVarsPerFile")),e.each(t,function(e){this.queue.addToQueueBottom(e)},this))}},{HTML5FILEFIELD_TEMPLATE:"<input type='file' style='visibility:hidden; width:0px; height: 0px;'>",SELECT_FILES_BUTTON:'<button type="button" class="yui3-button" role="button" aria-label="{selectButtonLabel}" tabindex="{tabIndex}">{selectButtonLabel}</button>',TYPE:"html5",NAME:"uploader",ATTRS:{appendNewFiles:{value:!0},buttonClassNames:{value:{hover:"yui3-button-hover",active:"yui3-button-active",disabled:"yui3-button-disabled",focus:"yui3-button-selected"}},dragAndDropArea:{value:null,setter:function(t){return e.one(t)}},enabled:{value:!0},errorAction:{value:"continue",validator:function(e){return e===r.CONTINUE||e===r.STOP||e===r.RESTART_ASAP||e===r.RESTART_AFTER}},fileFilters:{value:[]},fileFilterFunction:{value:null},fileFieldName:{value:"Filedata"},fileList:{value:[],getter:"_getFileList",setter:"_setFileList"},multipleFiles:{value:!1},postVarsPerFile:{value:{}},selectButtonLabel:{value:"Select Files"},selectFilesButton:{valueFn:function(){return e.Node.create(n(e.UploaderHTML5.SELECT_FILES_BUTTON,{selectButtonLabel:this.get("selectButtonLabel"),tabIndex:this.get("tabIndex")}))}},simLimit:{value:2,validator:function(e){return e>=1&&e<=5}},uploadURL:{value:""},uploadHeaders:{value:{}},withCredentials:{value:!0},retryCount:{value:3}}}),e.UploaderHTML5.Queue=r},"3.17.2",{requires:["widget","node-event-simulate","file-html5","uploader-queue"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("swfdetect",function(e,t){function c(e){return parseInt(e,10)}function h(e){i.isNumber(c(e[0]))&&(r.flashMajor=e[0]),i.isNumber(c(e[1]))&&(r.flashMinor=e[1]),i.isNumber(c(e[2]))&&(r.flashRev=e[2])}var n=0,r=e.UA,i=e.Lang,s="ShockwaveFlash",o,u,a,f,l;if(r.gecko||r.webkit||r.opera){if(o=navigator.mimeTypes["application/x-shockwave-flash"])if(u=o.enabledPlugin)a=u.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."),h(a)}else if(r.ie){try{f=new ActiveXObject(s+"."+s+".6"),f.AllowScriptAccess="always"}catch(p){f!==null&&(n=6)}if(n===0)try{l=new ActiveXObject(s+"."+s),a=l.GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(","),h(a)}catch(d){}}e.SWFDetect={getFlashVersion:function(){return String(r.flashMajor)+"."+String(r.flashMinor)+"."+String(r.flashRev)},isFlashVersionAtLeast:function(e,t,n){var i=c(r.flashMajor),s=c(r.flashMinor),o=c(r.flashRev);return e=c(e||0),t=c(t||0),n=c(n||0),e===i?t===s?n<=o:t<s:e<i}}},"3.17.2",{requires:["yui-base"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("escape",function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},r={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,r._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return n[e]}};r.regexp=r.regex,e.Escape=r},"3.17.2",{requires:["yui-base"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("uploader-flash",function(e,t){function m(t,n,r){this._id=e.guid("yuiswf");var i=this._id,m=a.one(t),r=r||{},g=r.version||h,y=(g+"").split("."),b=s.isFlashVersionAtLeast(parseInt(y[0],10),parseInt(y[1],10),parseInt(y[2],10)),w=s.isFlashVersionAtLeast(8,0,0),E=w&&!b&&r.useExpressInstall,S=E?p:n,x="<object ",T,N,C="yId="+e.id+"&YUISwfId="+i+"&YUIBridgeCallback="+d+"&allowedDomain="+document.location.hostname;e.SWF._instances[i]=this;if(m&&(b||E)&&S){x+='id="'+i+'" ',u.ie?x+='classid="'+l+'" ':x+='type="'+c+'" data="'+f.html(S)+'" ',T="100%",N="100%",x+='width="'+T+'" height="'+N+'">',u.ie&&(x+='<param name="movie" value="'+f.html(S)+'"/>');for(var k in r.fixedAttributes)v.hasOwnProperty(k)&&(x+='<param name="'+f.html(k)+'" value="'+f.html(r.fixedAttributes[k])+'"/>');for(var L in r.flashVars){var A=r.flashVars[L];o.isString(A)&&(C+="&"+f.html(L)+"="+f.html(encodeURIComponent(A)))}C&&(x+='<param name="flashVars" value="'+C+'"/>'),x+="</object>",m.set("innerHTML",x),this._swf=a.one("#"+i)}else{var O={};O.type="wrongflashversion",this.publish("wrongflashversion",{fireOnce:!0}),this.fire("wrongflashversion",O)}}function y(){y.superclass.constructor.apply(this,arguments)}var n=e.Lang.sub,r=e.Uploader.Queue,i=e.Event,s=e.SWFDetect,o=e.Lang,u=e.UA,a=e.Node,f=e.Escape,l="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",c="application/x-shockwave-flash",h="10.0.22",p="http://fpdownload.macromedia.com/pub/flashplayer/update/current/swf/autoUpdater.swf?"+Math.random(),d="SWF.eventHandler",v={align:"",allowFullScreen:"",allowNetworking:"",allowScriptAccess:"",base:"",bgcolor:"",loop:"",menu:"",name:"",play:"",quality:"",salign:"",scale:"",tabindex:"",wmode:""};m._instances=m._instances||{},m.eventHandler=function(e,t){m._instances[e]._eventHandler(t)},m.prototype={_eventHandler:function(e){e.type==="swfReady"?(this.publish("swfReady",{fireOnce:!0}),this.fire("swfReady",e)):e.type!=="log"&&this.fire(e.type,e)},callSWF:function(e,t){return t||(t=[]),this._swf._node[e]?this._swf._node[e].apply(this._swf._node,t):null},toString:function(){return"SWF "+this._id}},e.augment(m,e.EventTarget),e.SWF=m;var g=function(e){g.superclass.constructor.apply(this,arguments)};e.extend(g,e.Base,{initializer:function(t){this.get("id")||this._set("id",e.guid("file"))},_swfEventHandler:function(e){if(e.id===this.get("id"))switch(e.type){case"uploadstart":this.fire("uploadstart",{uploader:this.get("uploader")});break;case"uploadprogress":this.fire("uploadprogress",{originEvent:e,bytesLoaded:e.bytesLoaded,bytesTotal:e.bytesTotal,percentLoaded:Math.min(100,Math.round(1e4*e.bytesLoaded/e.bytesTotal)/100)}),this._set("bytesUploaded",e.bytesLoaded);break;case"uploadcomplete":this.fire("uploadfinished",{originEvent:e});break;case"uploadcompletedata":this.fire("uploadcomplete",{originEvent:e,data:e.data});break;case"uploadcancel":this.fire("uploadcancel",{originEvent:e});break;case"uploaderror":this.fire("uploaderror",{originEvent:e,status:e.status,statusText:e.message,source:e.source})}},startUpload:function(e,t,n){if(this.get("uploader")){var r=this.get("uploader"),i=n||"Filedata",s=this.get("id"),o=t||null;this._set("bytesUploaded",0),r.on("uploadstart",this._swfEventHandler,this),r.on("uploadprogress",this._swfEventHandler,this),r.on("uploadcomplete",this._swfEventHandler,this),r.on("uploadcompletedata",this._swfEventHandler,this),r.on("uploaderror",this._swfEventHandler,this),r.callSWF("upload",[s,e,o,i])}},cancelUpload:function(){this.get("uploader")&&(this.get("uploader").callSWF("cancel",[this.get("id")]),this.fire("uploadcancel"))}},{NAME:"file",TYPE:"flash",ATTRS:{id:{writeOnce:"initOnly",value:null},size:{writeOnce:"initOnly",value:0},name:{writeOnce:"initOnly",value:null},dateCreated:{writeOnce:"initOnly",value:null},dateModified:{writeOnce:"initOnly",value:null},bytesUploaded:{readOnly:!0,value:0},type:{writeOnce:"initOnly",value:null},uploader:{writeOnce:"initOnly",value:null}}}),e.FileFlash=g,e.UploaderFlash=e.extend(y,e.Widget,{_buttonState:"up",_buttonFocus:!1,_swfContainerId:null,_swfReference:null,queue:null,_tabElementBindings:null,initializer:function(){this._swfContainerId=e.guid("uploader"),this._swfReference=null,this.queue=null,this._buttonState="up",this._buttonFocus=null,this._tabElementBindings=null,this._fileList=[],this.publish("fileselect"),this.publish("uploadstart"),this.publish("fileuploadstart"),this.publish("uploadprogress"),this.publish("totaluploadprogress"),this.publish("uploadcomplete"),this.publish("alluploadscomplete"),this.publish("uploaderror"),this.publish("mouseenter"),this.publish("mouseleave"),this.publish("mousedown"),this.publish("mouseup"),this.publish("click")},renderUI:function(){var t=this.get("boundingBox"),r=this.get("contentBox"),i=this.get("selectFilesButton"),s=e.Node.create(n(y.FLASH_CONTAINER,{swfContainerId:this._swfContainerId})),o={version:"10.0.45",fixedAttributes:{wmode:"transparent",allowScriptAccess:"always",allowNetworking:"all",scale:"noscale"}};t.setStyle("position","relative"),i.setStyles({width:"100%",height:"100%"}),r.append(i),r.append(s),this._swfReference=new e.SWF(s,this.get("swfURL"),o)},bindUI:function(){this._swfReference.on("swfReady",function(){this._setMultipleFiles(),this._setFileFilters(),this._triggerEnabled(),this._attachTabElements(),this.after("multipleFilesChange",this._setMultipleFiles,this),this.after("fileFiltersChange",this._setFileFilters,this),this.after("enabledChange",this._triggerEnabled,this),this.after("tabElementsChange",this._attachTabElements)},this),this._swfReference.on("fileselect",this._updateFileList,this),this._swfReference.on("mouseenter",function(){this.fire("mouseenter"),this._setButtonClass("hover",!0),this._buttonState==="down"&&this._setButtonClass("active",!0)},this),this._swfReference.on("mouseleave",function(){this.fire("mouseleave"),this._setButtonClass("hover",!1),this._setButtonClass("active",!1)},this),this._swfReference.on("mousedown",function(){this.fire("mousedown"),this._buttonState="down",this._setButtonClass
("active",!0)},this),this._swfReference.on("mouseup",function(){this.fire("mouseup"),this._buttonState="up",this._setButtonClass("active",!1)},this),this._swfReference.on("click",function(){this.fire("click"),this._buttonFocus=!0,this._setButtonClass("focus",!0),e.one("body").focus(),this._swfReference._swf.focus()},this)},_attachTabElements:function(){if(this.get("tabElements")!==null&&this.get("tabElements").from!==null&&this.get("tabElements").to!==null){this._tabElementBindings!==null?(this._tabElementBindings.from.detach(),this._tabElementBindings.to.detach(),this._tabElementBindings.tabback.detach(),this._tabElementBindings.tabforward.detach(),this._tabElementBindings.focus.detach(),this._tabElementBindings.blur.detach()):this._tabElementBindings={};var t=e.one(this.get("tabElements").from),n=e.one(this.get("tabElements").to);this._tabElementBindings.from=t.on("keydown",function(e){e.keyCode===9&&!e.shiftKey&&(e.preventDefault(),this._swfReference._swf.setAttribute("tabindex",0),this._swfReference._swf.setAttribute("role","button"),this._swfReference._swf.setAttribute("aria-label",this.get("selectButtonLabel")),this._swfReference._swf.focus())},this),this._tabElementBindings.to=n.on("keydown",function(e){e.keyCode===9&&e.shiftKey&&(e.preventDefault(),this._swfReference._swf.setAttribute("tabindex",0),this._swfReference._swf.setAttribute("role","button"),this._swfReference._swf.setAttribute("aria-label",this.get("selectButtonLabel")),this._swfReference._swf.focus())},this),this._tabElementBindings.tabback=this._swfReference.on("tabback",function(){this._swfReference._swf.blur(),setTimeout(function(){t.focus()},30)},this),this._tabElementBindings.tabforward=this._swfReference.on("tabforward",function(){this._swfReference._swf.blur(),setTimeout(function(){n.focus()},30)},this),this._tabElementBindings.focus=this._swfReference._swf.on("focus",function(){this._buttonFocus=!0,this._setButtonClass("focus",!0)},this),this._tabElementBindings.blur=this._swfReference._swf.on("blur",function(){this._buttonFocus=!1,this._setButtonClass("focus",!1)},this)}else this._tabElementBindings!==null&&(this._tabElementBindings.from.detach(),this._tabElementBindings.to.detach(),this._tabElementBindings.tabback.detach(),this._tabElementBindings.tabforward.detach(),this._tabElementBindings.focus.detach(),this._tabElementBindings.blur.detach())},_setButtonClass:function(e,t){t?this.get("selectFilesButton").addClass(this.get("buttonClassNames")[e]):this.get("selectFilesButton").removeClass(this.get("buttonClassNames")[e])},_setFileFilters:function(){this._swfReference&&this.get("fileFilters").length>0&&this._swfReference.callSWF("setFileFilters",[this.get("fileFilters")])},_setMultipleFiles:function(){this._swfReference&&this._swfReference.callSWF("setAllowMultipleFiles",[this.get("multipleFiles")])},_triggerEnabled:function(){this.get("enabled")?(this._swfReference.callSWF("enable"),this._swfReference._swf.setAttribute("aria-disabled","false"),this._setButtonClass("disabled",!1)):(this._swfReference.callSWF("disable"),this._swfReference._swf.setAttribute("aria-disabled","true"),this._setButtonClass("disabled",!0))},_getFileList:function(){return this._fileList.concat()},_setFileList:function(e){return this._fileList=e.concat(),this._fileList.concat()},_updateFileList:function(t){e.one("body").focus(),this._swfReference._swf.focus();var n=t.fileList,r=[],i=[],s=this._swfReference,o=this.get("fileFilterFunction"),u;e.each(n,function(e){var t={};t.id=e.fileId,t.name=e.fileReference.name,t.size=e.fileReference.size,t.type=e.fileReference.type,t.dateCreated=e.fileReference.creationDate,t.dateModified=e.fileReference.modificationDate,t.uploader=s,r.push(t)}),o?e.each(r,function(t){var n=new e.FileFlash(t);o(n)&&i.push(n)}):e.each(r,function(t){i.push(new e.FileFlash(t))}),i.length>0&&(u=this.get("fileList"),this.set("fileList",this.get("appendNewFiles")?u.concat(i):i),this.fire("fileselect",{fileList:i}))},_uploadEventHandler:function(e){switch(e.type){case"file:uploadstart":this.fire("fileuploadstart",e);break;case"file:uploadprogress":this.fire("uploadprogress",e);break;case"uploaderqueue:totaluploadprogress":this.fire("totaluploadprogress",e);break;case"file:uploadcomplete":this.fire("uploadcomplete",e);break;case"uploaderqueue:alluploadscomplete":this.queue=null,this.fire("alluploadscomplete",e);break;case"file:uploaderror":case"uploaderqueue:uploaderror":this.fire("uploaderror",e);break;case"file:uploadcancel":case"uploaderqueue:uploadcancel":this.fire("uploadcancel",e)}},upload:function(t,n,r){var i=n||this.get("uploadURL"),s=r||this.get("postVarsPerFile"),o=t.get("id");s=s.hasOwnProperty(o)?s[o]:s,t instanceof e.FileFlash&&(t.on("uploadstart",this._uploadEventHandler,this),t.on("uploadprogress",this._uploadEventHandler,this),t.on("uploadcomplete",this._uploadEventHandler,this),t.on("uploaderror",this._uploadEventHandler,this),t.on("uploadcancel",this._uploadEventHandler,this),t.startUpload(i,s,this.get("fileFieldName")))},uploadAll:function(e,t){this.uploadThese(this.get("fileList"),e,t)},uploadThese:function(e,t,n){if(!this.queue){var i=t||this.get("uploadURL"),s=n||this.get("postVarsPerFile");this.queue=new r({simUploads:this.get("simLimit"),errorAction:this.get("errorAction"),fileFieldName:this.get("fileFieldName"),fileList:e,uploadURL:i,perFileParameters:s,retryCount:this.get("retryCount")}),this.queue.on("uploadstart",this._uploadEventHandler,this),this.queue.on("uploadprogress",this._uploadEventHandler,this),this.queue.on("totaluploadprogress",this._uploadEventHandler,this),this.queue.on("uploadcomplete",this._uploadEventHandler,this),this.queue.on("alluploadscomplete",this._uploadEventHandler,this),this.queue.on("alluploadscancelled",function(){this.queue=null},this),this.queue.on("uploaderror",this._uploadEventHandler,this),this.queue.startUpload(),this.fire("uploadstart")}}},{FLASH_CONTAINER:'<div id="{swfContainerId}" style="position:absolute; top:0px; left: 0px; margin: 0; padding: 0; border: 0; width:100%; height:100%"></div>'
,SELECT_FILES_BUTTON:"<button type='button' class='yui3-button' tabindex='-1'>{selectButtonLabel}</button>",TYPE:"flash",NAME:"uploader",ATTRS:{appendNewFiles:{value:!0},buttonClassNames:{value:{hover:"yui3-button-hover",active:"yui3-button-active",disabled:"yui3-button-disabled",focus:"yui3-button-selected"}},enabled:{value:!0},errorAction:{value:"continue",validator:function(e){return e===r.CONTINUE||e===r.STOP||e===r.RESTART_ASAP||e===r.RESTART_AFTER}},fileFilters:{value:[]},fileFilterFunction:{value:null},fileFieldName:{value:"Filedata"},fileList:{value:[],getter:"_getFileList",setter:"_setFileList"},multipleFiles:{value:!1},postVarsPerFile:{value:{}},selectButtonLabel:{value:"Select Files"},selectFilesButton:{valueFn:function(){return e.Node.create(n(e.UploaderFlash.SELECT_FILES_BUTTON,{selectButtonLabel:this.get("selectButtonLabel")}))}},simLimit:{value:2,validator:function(e){return e>=2&&e<=5}},swfURL:{valueFn:function(){var t="flashuploader.swf";return e.UA.ie>0?t+"?t="+e.guid("uploader"):t}},tabElements:{value:null},uploadURL:{value:""},retryCount:{value:3}}}),e.UploaderFlash.Queue=r},"3.17.2",{requires:["swfdetect","escape","widget","base","cssbutton","node","event-custom","uploader-queue"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("uploader",function(e,t){var n=e.config.win;n&&n.File&&n.FormData&&n.XMLHttpRequest?e.Uploader=e.UploaderHTML5:e.SWFDetect.isFlashVersionAtLeast(10,0,45)?e.Uploader=e.UploaderFlash:(e.namespace("Uploader"),e.Uploader.TYPE="none")},"3.17.2",{requires:["uploader-html5","uploader-flash"]});
YUI.add("ya-uploadWidget",function(c){c.YA.UploadWidget=c.namespace("YA.UplaodWidget");function b(d){b.superclass.constructor.apply(this,arguments)}b.NAME="yaUploadWidget";b.EVENTS={SELECT:b.NAME+":selectMedia",UPLOAD:b.NAME+":uploadMedia",INPROGRESS:b.NAME+":inProgress",COMPLETED:b.NAME+":onComplete",CANCEL:b.NAME+":cancelMedia",ERROR:b.NAME+":onError"};var a=c.one("#upload-messages");b.Messages={PHOTO_PIXEL_SIZE:a.one(".photo-pixel-size-error").get("innerHTML"),SYSTEM_ERROR:a.one(".system-error").get("innerHTML"),VALID_PHOTO:a.one(".invalid-photo").get("innerHTML"),VALID_VIDEO:a.one(".invalid-video").get("innerHTML"),PHOTO_SIZE:a.one(".photo-size-exceed").get("innerHTML"),VIDEO_SIZE:a.one(".video-size-exceed").get("innerHTML"),VALID_FORMAT:a.one(".invalid-format").get("innerHTML"),VALID_FORMAT_SMALL:a.one(".invalid-format-small").get("innerHTML"),TIP_VIDEO_SIZE:a.one(".photo-size-exceed-small").get("innerHTML"),TIP_PHOTO_SIZE:a.one(".video-size-exceed-small").get("innerHTML"),VALID_FORMAT_LARGE:a.one(".invalid-format-large").get("innerHTML")};c.YA.UploadWidget.Widget=c.extend(b,c.YA.Base,{initializer:function(e){this._uploadButton=e.uploadButton,this._buttonContainer=e.buttonContainer,this._mediaContainer=e.mediaContainer,this._uploadMediaSize=e.uploadMediaSize,this._uploadUrl=e.uploadUrl,this._swfUrl=e.swfUrl,this._type=e.type;var d=this;this._uploader=null,this._pollForMediaUrl=null,this._uploadDone=false,this._uploadType=c.Uploader.TYPE,this._isIos=c.UA.ios,this._messageMarginTop=this._uploadMediaSize=="small"?-4:-5.1,this._tooltipMarginTop=this._uploadMediaSize=="small"?-4:-5.4,this._mediaId=null,this._uploadMediaContainerWidth="144px",this._uploadMediaContainerHeight="115px",this._progressBarHeight=16,this._errorIcon="error-icon",this._mediaUploadError="media-upload-error",this._cancelIcon="cancel-icon",this._previewMedia="preview-media",this._progress="progress",this._isPhoto=0,this._isVideo=0,this._buttonNodeWidth=this._buttonContainer.get("offsetWidth"),this._buttonNodeHeight=this._buttonContainer.get("offsetHeight"),this._buttonContainerMarkup=this._buttonContainer.setAttribute("data-node",this._buttonContainer.getHTML());if(this._uploadMediaSize=="small"){this._uploadMediaContainerWidth="84px";this._uploadMediaContainerHeight="64px";this._progressBarHeight=10;this._errorIcon="shared-img-sprite shared-sprite error-icon-small";this._cancelIcon="shared-img-sprite shared-sprite cancel-icon-small";this._mediaUploadError="media-upload-error-small";this._previewMedia="preview-media-small";this._progress="progress-small"}this._uploadMediaContainerId="#upload-media-container",this._mediaTooltipId="#media-tooltip",this._mediaErrorId="#media-error";this._previewMediaMarkup="<div id='preview-media-container'><i id='cancel-upload' class='"+this._cancelIcon+"'></i><div><img class='"+this._previewMedia+"' width='"+this._uploadMediaContainerWidth+"' height='"+this._uploadMediaContainerHeight+"' alt='Image'></div></div>";this._uploadMessageMarkup="<div class='media-message-container' style='display:none;' id='message'><div style='display:none;color:#888;float:left' id='media-tooltip'></div><div id='media-error' style='display:none;color:#ff0000;float:left;'></div></div>";this._mediaMarkup=c.Node.create("<div id='upload-media-container'><div id='error-upload-container' class='"+this._mediaUploadError+"'><i class='"+this._errorIcon+"'></i></div><div id='progress-container'><i id='cancel-upload' class='"+this._cancelIcon+"' role='button' tabindex='0'></i><div id='"+this._progress+"'></div></div>"+this._previewMediaMarkup+"</div>"+this._uploadMessageMarkup);this._initialize(this);c.augment(c.YA.UploadWidget.Widget,c.EventTarget)},_fileSelect:function(h){var f=h.fileList,d=true,g=null;this.fire(b.EVENTS.SELECT);if(this._uploadDone){this._uploadDone=false}var e=this;c.each(f,function(k){var o=k.get("name"),j=k.get("size"),l=o.match(/\.(png|jpg|jpeg)$/ig),n=(j<5000000?true:false),m=o.match(/\.(3gp|3gpp|mp4|mov|avi|mpg|mpeg|rm)$/ig),i=(j<600000000?true:false);if(l==null&&m!=null){e._isVideo=1;e._isPhoto=0}else{if(m==null&&l!=null){e._isPhoto=1;e._isVideo=0}}if((l==null&&!e._isVideo)||(m==null&&!e._isPhoto)){d=false;g=e._uploadMediaSize=="small"?"VALID_FORMAT_SMALL":"VALID_FORMAT"}else{if(e._isPhoto&&!n&&!e._isVideo){d=false;g="PHOTO_SIZE"}else{if(e._isVideo&&!i&&!e._isPhoto){d=false;g="VIDEO_SIZE"}}}});if(d&&!this._uploadDone&&this._uploader.get("fileList").length>0){this._uploader.uploadAll();this._uploader.set("enabled",false)}else{this._isPhoto=this._isVideo=0;this._showError(g);this._uploadDone=false;this._uploader.set("fileList",[])}},_uploadProgress:function(f){this._hideError();this._mediaId=null;c.log("Media Inprogress");this._mediaContainer.one("#upload-media-container").setStyle("display","block");this._mediaContainer.one("#progress-container").setStyle("display","block");this._mediaContainer.one("#error-upload-container").setStyle("display","none");this._mediaContainer.one("#preview-media-container").setStyle("display","none");this.fire(b.EVENTS.INPROGRESS);var d=this._mediaContainer.one("#"+this._progress+""),g=this._mediaContainer.one("#progress-container").get("offsetWidth")-(this._uploadMediaSize=="small"?10:22),e=Math.round(100*(f.bytesLoaded/f.bytesTotal))*g/100;d.setStyle("width",(e>g?g:e));d.setStyle("height",(this._uploadMediaSize=="small"?10:15)+"px")},_uploadStart:function(d){this._uploader.set("enabled",false)},_uploadComplete:function(e){this._hideError();this._uploadDone=true;c.log("UploadComplete"+e.data);var g=c.JSON.parse(e.data),d=g.status;var f=new c.Answers.IO();this._mediaId=g.id;this._getMediaUrl(f,this._mediaId,"",this);this._uploader.set("enabled",true);this._uploader.set("fileList",[])},_getMediaUrl:function(h,f,e,d){var g=false,e=ANSWERS.crumb;d._isPhoto=d._isVideo=0;d._pollForMediaUrl=setInterval(function(){var i=function(l,k,j,m){l.makeRequest("/xhr-q-mmToken.php?t="+Math.random()+"&crumb="+j,"POST","mmID="+k,function(n){m(n)})};i(h,f,e,function(k){var l=c.JSON.parse(k.responseText);if(l!=null){if(l.status=="FAILED"){if(l.responseCode=="1001"){d._showError("PHOTO_PIXEL_SIZE")}else{d._showError("SYSTEM_ERROR")}clearInterval(d._pollForMediaUrl)}else{d._mediaContainer.one("."+d._previewMedia).set("src","");if(l.canAssociateContent==true){var j=previewUrl_640_472=previewUrl_250_200="";clearInterval(d._pollForMediaUrl);c.Array.each(l.mediaRecords,function(m,n){if(m.spec=="IMAGE_640_472"){previewUrl_640_472=m.url}if(m.spec=="IMAGE_250_200"){previewUrl_250_200=m.url}});j=previewUrl_250_200;if(previewUrl_250_200==""){j=previewUrl_640_472}d.fire(b.EVENTS.COMPLETED,{mmid:f,url:previewUrl_640_472||j});if(j!=""){d._mediaContainer.one("."+d._previewMedia).set("src",j)}d._mediaContainer.one("#upload-media-container").setStyle("display","block");d._mediaContainer.one("#preview-media-container").setStyle("display","block");d._mediaContainer.one("#progress-container").setStyle("display","none");g=true}}}else{clearInterval(d._pollForMediaUrl);d._showError("SYSTEM_ERROR")}})},3000);c.later(300000,d,function(){if(!g){clearInterval(d._pollForMediaUrl);d._showError("SYSTEM_ERROR")}})},_getMMID:function(){return this._mediaId},_setMMID:function(e){this._mediaId=e;var d=new c.Answers.IO();this._getMediaUrl(d,e,"",this)},_isUploadTypeFlash:function(){return this._uploadType=="flash"?true:false},_uploadError:function(d){this._uploadDone=false;this._mediaId=null;this.fire(b.EVENTS.ERROR);this._showError("SYSTEM_ERROR");c.log("Error:"+d.status+"---"+d.message+"---"+d.statusText)},_cancelUpload:function(d){c.log("Cancelled upload");this._mediaId=null;if(this._uploader.queue!=null){this._uploader.queue.cancelUpload()}this._clearPollMedia();this.fire(b.EVENTS.CANCEL);this._resetUpload();this._initialize(this)},_resetUpload:function(){this._clearPollMedia();this._mediaContainer.one("#upload-media-container").setStyle("display","none");this._mediaContainer.one("#progress-container").setStyle("display","none");this._mediaContainer.one("#preview-media-container").setStyle("display","none");this._mediaContainer.one("#message").setStyle("display","none");this._isPhoto=this._isVideo=0;this._uploadDone=false;this._uploader.set("fileList",[]);this._uploader.set("enabled",true)},_clearPollMedia:function(){if(this._pollForMediaUrl!=null){clearInterval(this._pollForMediaUrl)}},_showError:function(f){this.fire(b.EVENTS.ERROR);var d=this._mediaContainer.one(this._mediaErrorId),e=this._mediaContainer.one(this._mediaTooltipId);if(this._uploadMediaSize=="small"){this._mediaContainer.one("#upload-media-container").setStyle("display","block");this._mediaContainer.one("#error-upload-container").setStyle("display","block");this._mediaContainer.one("#preview-media-container").setStyle("display","none");d.setStyle("fontSize","11px")}e.setStyle("display","none");d.setStyle("display","block");d.setStyle("marginTop",this._messageMarginTop+"em");d.setStyle("marginLeft",(this._uploadMediaSize=="small"?96:164)+"px");d.setHTML(b.Messages[f]);this._mediaContainer.one("#message").setStyle("display","block");this._mediaContainer.one("#progress-container").setStyle("display","none");if(this._uploadMediaSize=="large"){if(this._type=="answer"){this._mediaContainer.one("#upload-media-container").setStyle("display","block");this._mediaContainer.one("#error-upload-container").setStyle("display","block");this._mediaContainer.one("#preview-media-container").setStyle("display","none")}else{this._mediaContainer.one("#upload-media-container").setStyle("display","none")}this._buttonContainer.removeClass("none");this._buttonContainer.addClass("block")}if(f=="SYSTEM_ERROR"){this._initialize(this)}},_hideError:function(){this._mediaContainer.one("#message").setStyle("display","none")},_showMessage:function(h){var f=this._mediaContainer.one(mediaTooltipId),d=this._mediaContainer.one(mediaErrorId),g=(this._uploadMediaSize=="large"?"VALID_FORMAT_LARGE":"VALID_FORMAT_SMALL");if(this._uploadMediaSize=="small"){f.setStyle("fontSize","12px")}if(d){d.setStyle("display","none")}f.setStyle("display","block");f.setStyle("marginTop",this._tooltipMarginTop+"em");f.setStyle("marginLeft",(this._uploadMediaSize=="small"?96:164)+"px");if(this._isPhoto){g="TIP_PHOTO_SIZE"}else{if(this._isVideo){g="TIP_VIDEO_SIZE"}}f.setHTML(b.Messages[g]);this._mediaContainer.one("#message").setStyle("display","block")},_hideMessage:function(d){this._mediaContainer.one(this._mediaTooltipId).setStyle("display","none")},_initialize:function(d){if(d._uploadType!="none"&&!d._isIos){d._uploader=new c.Uploader({multipleFiles:false,uploadURL:d._uploadUrl,simLimit:2,withCredentials:true,fileFieldName:"content",buttonClassNames:{disabled:"disable-media",active:"outline-none"}});d._mediaContainer.append(d._mediaMarkup);d._buttonContainer.setHTML("");var e=d._mediaContainer.one("#upload-media-container");e.setStyle("height",d._uploadMediaContainerHeight);e.setStyle("width",d._uploadMediaContainerWidth);if(d._mediaContainer.getData("mm-url")){e.one("#preview-media-container img").setAttribute("src",d._mediaContainer.getData("mm-url"));e.removeClass("D-n").setAttribute("aria-hidden","false").setStyle("display","block");e.one("#preview-media-container ").setStyle("display","block");d._mediaContainer.removeClass("D-n").setAttribute("aria-hidden","false").setData("mm-url","")}if(d._uploadType=="flash"){d._uploader.set("swfURL",d._swfUrl+"?t="+Math.random())}d._uploader.set("selectFilesButton",c.Node.create(d._buttonContainer.getAttribute("data-node")));d._uploader.render(d._buttonContainer);d._uploader.set("width",d._buttonNodeWidth+"px");d._uploader.set("height",d._buttonNodeHeight+"px");d._uploader.on("fileselect",function(f){d._fileSelect(f)});d._uploader.on("uploadprogress",function(f){d._uploadProgress(f)});d._uploader.on("uploadstart",function(f){d._uploadStart(f)});d._uploader.on("uploadcomplete",function(f){d._uploadComplete(f)});d._uploader.on("uploaderror",function(f){d._uploadError(f)})}if(d._mediaContainer){d._mediaContainer.delegate("click",function(f){f.preventDefault();d._cancelUpload(f)},"#cancel-upload");if(d._uploadMediaSize=="large"&&d._type!="answer"){d._buttonContainer.on("mouseover",function(f){d._showMessage(f)});d._buttonContainer.on("mouseout",function(f){d._hideMessage(f)})}}}})},"0.1",{requires:["base","node","event","ya-io","event-custom","uploader","json"]});YUI.add("ya-input-box",function(b){b.YA.Interactions=b.namespace("YA.Interactions");function a(c){a.superclass.constructor.apply(this,arguments)}a.NAME="yaInputBox";a.EVENTS={SUBMIT:a.NAME+":submit",SHOW:a.NAME+":show",HIDE:a.NAME+":hide",SHOW_ERR:a.NAME+":show_err",SHOW_ON_VIEWPORT:a.NAME+":show_on_viewport",IB_RESIZED:a.NAME+":input_box_resized"};b.YA.Interactions.InputBox=b.extend(a,b.YA.Base,{initializer:function(c){var f=this.get("node"),d=this,e=".ya-input-box-";this.node=f;this.parentNode=c.parentNode;this._id=c.id;this._form=f.one("form");this._mainTextNode=f.one(e+"main-ta");this._sourceButton=f.one(e+"source-btn");this._sourceTextNode=f.one(e+"source-ta");this._detailsButton=f.one(e+"details-btn");this._detailsTextNode=f.one(e+"details-ta");this._errMsgNode=f.one(e+"err");this._charLeftNode=f.one(e+"char-left");this._submitButton=f.one(".ya-submit");this._mmButton=f.one(".answer-mm-button");this._mmPreviewContainer=f.one("#answer-mm-preview");this._mmButtonContainer=f.one(".answer-mm-button-container");this._mmInProgress=false;this._mmObj=false;this._enable=true;f.all("*[role=button]").on("keydown",this._forwardClick,this);this._submitButton.on("click",this.submit,this);f.delegate("click",this.hide,".ya-cancel",this);if(this._sourceButton){this._sourceButton.on("click",this._showSourceTextarea,this)}if(this._detailsButton){this._detailsButton.on("click",this._showDetailsTextarea,this)}if(this._charLeftNode&&this._mainTextNode){this._bindCharLeftHandler()}b.on(a.EVENTS.SHOW_ERR,this._showError,this);b.on(a.EVENTS.SHOW_ON_VIEWPORT,function(g){d._showOnViewPort(g)});this._updateButtonState()},_bindCharLeftHandler:function(){var c=this._mainTextNode;if(!this._mainTextHasMax()){c.on(["focus","keyup","keydown","change"],this._updateButtonState,this);return}c.on(["focus","keyup","keydown","change"],this._updateTextLeftNode,this);c.on("blur",function(d){this._charLeftNode.addClass("D-n").setAttribute("aria-hidden","true")},this)},_updateTextLeftNode:function(){var d=this._mainTextCount(),c=this._charLeftNode;if(c.getAttribute("aria-hidden")==="true"){c.removeClass("D-n").setAttribute("aria-hidden","false")}c.set("innerHTML",d);if(d<0&&c.hasClass("Clr-ce")){c.removeClass("Clr-ce").addClass("Clr-r")}else{if(d>0&&c.hasClass("Clr-r")){c.removeClass("Clr-r").addClass("Clr-ce")}}this._updateButtonState()},_initMediaUploadWidget:function(){var c=this,d;this._uploadMediaWidget=d=new b.YA.UploadWidget.Widget({uploadButton:this._mmButton,buttonContainer:this._mmButtonContainer,mediaContainer:this._mmPreviewContainer,uploadMediaSize:"small",uploadUrl:ANSWERS.uploadUrl+"&crumb="+ANSWERS.crumb+"&lang="+ANSWERS.lang,swfUrl:"/static/player/flashuploader.swf",type:"question-answer"});this.get("node").one(".answer-mm-button").on("keydown",this._forwardClick,this);d.on(b.YA.UploadWidget.Widget.EVENTS.SELECT,function(f){c._mmInProgress=true;c._mmPreviewContainer.removeClass("D-n").setAttribute("aria-hidden","false");c._showOnViewPort({node:c.parentNode});c._mmObj=null;c._updateButtonState();b.fire(a.EVENTS.IB_RESIZED,{})});d.on(b.YA.UploadWidget.Widget.EVENTS.ERROR,function(f){c._mmInProgress=false;c._mmPreviewContainer.removeClass("D-n").setAttribute("aria-hidden","false");c._mmObj=null;c._updateButtonState();b.fire(a.EVENTS.IB_RESIZED,{})});d.on(b.YA.UploadWidget.Widget.EVENTS.CANCEL,function(f){c._mmInProgress=false;c._mmPreviewContainer.addClass("D-n").setAttribute("aria-hidden","true");c._mmObj=null;c._updateButtonState();b.fire(a.EVENTS.IB_RESIZED,{})});d.on(b.YA.UploadWidget.Widget.EVENTS.COMPLETED,function(f){c._mmInProgress=false;c._mmObj={mmid:f.mmid,url:f.url};c._updateButtonState()})},_showError:function(c){if(c.id!==this._id){return}this._errMsgNode.set("innerHTML",c.msg).removeClass("D-n").setAttribute("aria-hidden","true")},_clearError:function(){this._errMsgNode.set("innerHTML","").addClass("D-n").setAttribute("aria-hidden","false")},_mainTextHasMax:function(){return(this._mainTextNode.getData("max-length")!==undefined)},_mainTextCount:function(){var c=this._mainTextNode,d=c.getData("max-length");return parseInt(d,10)-c.get("value").length},_isMainTextNotEmpty:function(){var c=this._mainTextNode;return(c&&c.get("value").length!==0)},_showSourceTextarea:function(c){this._showTextareaDisableBtn(this._sourceTextNode,this._sourceButton);b.fire(a.EVENTS.IB_RESIZED,{});c.currentTarget.detachAll()},_showDetailsTextarea:function(c){this._showTextareaDisableBtn(this._detailsTextNode,this._detailsButton);c.currentTarget.detachAll()},_showTextareaDisableBtn:function(c,d){c.removeClass("D-n").setAttribute("aria-hidden","false");this._showOnViewPort({node:this.parentNode});d.addClass("Clr-ce").removeClass("Cur-p").setAttribute("aria-disabled",true)},_showOnViewPort:function(j){if(j.node&&!j.node.inViewportRegion(j.node,false)){var d=b.DOM.winHeight(),i=b.DOM.docScrollY(),h=j.node,f=h.getY()-i,c=h.get("offsetHeight");var g=(f+c)-d;if(g>0){window.scrollBy(0,g)}}},_submitValidation:function(){return this._enable&&(this._isMainTextNotEmpty()&&(!this._mainTextHasMax()||this._mainTextCount()>=0)&&!this._mmInProgress)},_forwardClick:function(c){if(c.keyCode!==undefined&&c.keyCode!==0&&c.keyCode!==32&&c.keyCode!==13){return}c.currentTarget.simulate("click")},_updateButtonState:function(){var d=!this._submitValidation(),c=this._submitButton;if(d&&c.getAttribute("aria-disabled")!=="true"){c.setAttribute("aria-disabled","true")}else{if(!d&&c.getAttribute("aria-disabled")==="true"){c.setAttribute("aria-disabled","false")}}},enable:function(){this._enable=true;this._submitButton.setAttribute("aria-disabled","false")},disable:function(){this._enable=false;this._submitButton.setAttribute("aria-disabled","true")},show:function(){this.get("node").removeClass("D-n").setAttribute("aria-hidden","false");this._showOnViewPort({node:this.parentNode});if(this._mmButton&&!this._uploadMediaWidget){this._initMediaUploadWidget()}this._mainTextNode.focus();b.fire(a.EVENTS.SHOW,{id:this._id})},reset:function(){this._form.reset();if(this._mmPreviewContainer){this._mmPreviewContainer.addClass("D-n").setAttribute("aria-hidden","true");b.fire(a.EVENTS.IB_RESIZED,{})}},hide:function(){this.get("node").addClass("D-n").setAttribute("aria-hidden","true");b.fire(a.EVENTS.HIDE,{id:this._id})},submit:function(){var c;b.zui.placeholder.uninstall(this.get("node").all("textarea"));if(!this._submitValidation()){b.zui.placeholder.install(this.get("node").all("textarea"));return}c={id:this._id};c.mainText=this._mainTextNode.get("value");if(this._mmButton){c.mm=this._mmObj}if(this._sourceTextNode){c.sourceText=this._sourceTextNode.get("value")}if(this._detailsTextNode){c.detailsText=this._detailsTextNode.get("value")}this._clearError();b.fire(a.EVENTS.SUBMIT,c);b.zui.placeholder.install(this.get("node").all("textarea"))}})},"0.0.1",{requires:["ya-base","event-simulate","ya-uploadWidget"]});YUI.add("ya-qna-msg-helper",function(c){c.YA.Q=c.namespace("YA.Q");var a={templateNode:null,NAME:"yaQnaMsgHelper"},b=c.one("#ya-qna-msg-template");a.EVENTS={SHOW:a.NAME+":show"};a.TYPE={ERR:".ya-qna-msg-error",DEL_CONFIRM:".ya-qna-msg-del-confirm",ADD_ANS:".ya-qna-add-ans"};c.YA.Q.MsgHelper=c.mix(a,{_show:function(i){var d=i.type,k=i.msg,h=i.target,g=i.duration,l=i.cb,f,j=false;h.hide().set("innerHTML","");f=c.Node.create(b.one(d).get("outerHTML"));h.appendChild(f);if(i.type===a.TYPE.ERR||i.type===a.TYPE.ADD_ANS){f.one(".ya-qna-msg-text").set("innerHTML",k);this._initTypeErrOrAddAns(f,g)}else{if(i.type===a.TYPE.DEL_CONFIRM){this._initTypeDelConfirm(f,l);j=true}}h.show(true);if(j){f.focus()}},_initTypeErrOrAddAns:function(d,f){var e={node:d};if(f>0){e.timer=c.later(f,this,this._hideMsgNode,[e,true])}this._accessibleBtn(d);this._bindCloseBtn(e)},_initTypeDelConfirm:function(d,f){var e={node:d};this._accessibleBtn(d);this._bindCloseBtn(e);if(f){d.one(".ya-qna-msg-yes").on("click",function(g){this._hideMsgNode(e,false);f(g)},this)}return true},_bindCloseBtn:function(d){d.node.one(".ya-qna-msg-close").on("click",function(){this._hideMsgNode(d,false);if(d.timer){d.timer.cancel()}},this)},_hideMsgNode:function(e,d){e.node.hide(d,function(){e.node.remove(true)})},_accessibleBtn:function(d){d.all("*[role=button]").on("keydown",this._forwardClick,this)},_forwardClick:function(d){if(d.keyCode!==undefined&&d.keyCode!==0&&d.keyCode!==32&&d.keyCode!==13){return}d.currentTarget.simulate("click")}});c.on(a.EVENTS.SHOW,c.YA.Q.MsgHelper._show,c.YA.Q.MsgHelper)},"0.0.1",{requires:["ya-base","node","event"]});YUI.add("ya-question-details",function(b){b.YA.Q=b.namespace("YA.Q");function a(c){a.superclass.constructor.apply(this,arguments)}a.NAME="yaQuestionDetails";a.EVENTS={EDIT_CATEGORY:a.NAME+":editCategory"};b.YA.Q.QDetails=b.extend(a,b.YA.Base,{initializer:function(c){var f=this.get("node"),e=f.one(".ya-dd"),d=f.one(".ya-input-box");this._module=c.module;this.qid=c.qid;this._errNode=f.one(".ya-err-holder");if(e){this._dropdown=new b.YA.Interactions.DropdownMenu({node:e,mapping:[{el:".ya-question-detail-updateq",cb:this._updateQuestion},{el:".ya-question-detail-undo-anon",cb:this._undoAnonymous},{el:".ya-question-detail-anon",cb:this._makeAnonymous},{el:".ya-question-detail-edit-cat",cb:this._editCategory},{el:".ya-question-detail-delq",cb:this._deleteQuestion}],context:this})}if(d){this._updateTextNode=new b.YA.Interactions.InputBox({node:d,parentNode:null,id:a.NAME});b.on(b.YA.Interactions.InputBox.EVENTS.SUBMIT,this._updateQuestionHandler,this);b.on(b.YA.Interactions.InputBox.EVENTS.HIDE,this._hideUpdateQuestionHandler,this)}},_updateQuestion:function(c){this._updateTextNode.show();b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qedit",slk:"update",pos:1,keys:{itc:1,rspns:"xpnd"}})},_undoAnonymous:function(f,c){var d=this,g=d.get("node");b.all(".asker-anon-img").addClass("D-n");b.all(".asker-user-img").removeClass("D-n");c.hideItem(".ya-question-detail-undo-anon").showItem(".ya-question-detail-anon").focus();d._executeIO({action:"deanon"},function(i,e){var h;if(!(e&&e.status&&(h=e.status.http_code)&&h===200)){b.all(".asker-anon-img").removeClass("D-n");b.all(".asker-user-img").addClass("D-n");c.hideItem(".ya-question-detail-anon").showItem(".ya-question-detail-undo-anon");d._showError(e.html)}});b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qedit",slk:"deanon",pos:1})},_makeAnonymous:function(f,c){var d=this,g=d.get("node");b.all(".asker-anon-img").removeClass("D-n");b.all(".asker-user-img").addClass("D-n");c.hideItem(".ya-question-detail-anon").showItem(".ya-question-detail-undo-anon").focus();d._executeIO({action:"anon"},function(i,e){var h;if(!(e&&e.status&&(h=e.status.http_code)&&h===200)){b.all(".asker-anon-img").addClass("D-n");b.all(".asker-user-img").removeClass("D-n");c.hideItem(".ya-question-detail-undo-anon").showItem(".ya-question-detail-anon");d._showError(e.html)}});b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qedit",slk:"anon",pos:1})},_editCategory:function(f){var d=f.currentTarget.ancestor("#ya-center-rail");var c=d.one("#ya-cat-list");b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qedit",slk:"editcat",pos:1,keys:{itc:1,rspns:"xpnd"}});if(c&&!c.hasClass("obsolete")){c.removeClass("D-n").focus();d.one("#ya-question-breadcrumb").addClass("Pb-14")}else{b.fire(a.EVENTS.EDIT_CATEGORY)}},_deleteQuestion:function(c){if(!this._dialog||this._dialog.getName()!=="confirmDelQ"){this._dialog=new b.YA.Interactions.DialogBox({node:b.one("#ya-dialog-box"),name:"confirmDelQ",title:c.currentTarget.getData("dialog-title"),content:c.currentTarget.getData("dialog-content"),yesText:c.currentTarget.getData("dialog-yes"),cb:b.bind(this._executeDelete,this)})}this._dialog.show()},_executeIO:function(e,c){var d=this;b.io("/_post?name="+d._module+"&qid="+d.qid,{method:"POST",data:b.mix({qid:d.qid,crumb:ANSWERS.crumb},e),on:{complete:function(h,f){var g;g=b.JSON.parse(f.responseText);g=g[d._module];c(h,g)}}})},_executeDelete:function(){var c=this;c._executeIO({action:"delete"},function(f,d){var e;if(d&&d.status&&(e=d.status.http_code)&&(e===200||e===204)){window.location.href=d.status.redirect;return}else{c._showError(d.html)}});b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qedit",slk:"delete",pos:1})},_updateQuestionHandler:function(d){var c=this;if(d.id!==a.NAME){return}this._updateTextNode.disable();this._executeIO({action:"updateq",text:d.mainText},function(g,e){var f;if(e&&e.status&&(f=e.status.http_code)&&f===201){window.location.href=window.location.href;return}c._updateTextNode.enable();b.fire(b.YA.Interactions.InputBox.EVENTS.SHOW_ERR,{id:a.NAME,msg:e.html})});b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qedit",slk:"update",pos:1})},_hideUpdateQuestionHandler:function(c){if(c.id!==a.NAME){return}this._dropdown.focus();b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qedit",slk:"update",pos:1,keys:{itc:1,rspns:"clps"}})},_showError:function(c){b.fire(b.YA.Q.MsgHelper.EVENTS.SHOW,{type:b.YA.Q.MsgHelper.TYPE.ERR,msg:c,target:this._errNode,duration:3000})}})},"0.0.1",{requires:["ya-base","ya-dropdown-menu","ya-dialog-box","ya-input-box","io","ya-qna-msg-helper"]});YUI.add("ya-question-actions",function(b){b.YA.Q=b.namespace("YA.Q");function a(c){a.superclass.constructor.apply(this,arguments)}a.NAME="yaQuestionActions";a.SHARED_SPRITE=".shared-sprite";a.CLS_REPORT_ABUSE="reportabuse-icon";a.CLS_REPORT_ABUSE_SELECTED="reportabuse-icon-sel";a.RAHOLDER=".report-abuse-holder";a.RAQDIV="#raqdiv";a.RADIVCONTAINER="#report-abuse-form";a.FOLLOW_SELECTED="star-icon-yellow-a4";a.FOLLOW_UNSELECTED="star-icon-a4";a.FOLLOW_TEXT=".follow-text";a.FOLLOW_COOKIE_NAME="qFollow";b.YA.Q.QuestionActions=b.extend(a,b.YA.Base,{_followText:null,_followingText:null,_followingPText:null,_loginUrl:null,_pending:null,initializer:function(h){var f=b.one(a.RADIVCONTAINER);var c=this.get("node"),i=c.one(".raaf"),j=c.getAttribute("data-ya-question-id"),g=c.getAttribute("data-ya-cid"),e=c.one("#ya-follow-q");this._loginUrl=h.loginUrl;if(c){this._accessibleBtn(c);this._accessibleBtn(b.one(a.RADIVCONTAINER));c.on("focus",b.rbind(this._doHoverActionTile,this,c,true));c.on("blur",b.rbind(this._doHoverActionTile,this,c,false));c.on("hover",b.rbind(this._doHoverActionTile,this,c,true),b.rbind(this._doHoverActionTile,this,c,false));var d=c.all(".videoplaybutton");if(d){d.on("click",b.rbind(this._playYouTubeVideo,this))}}if(i){i.on("click",b.rbind(this._openReportAbuse,this,i,j));c.delegate("click",b.rbind(this._closeReportAbuse,this,c),"#raqcb");c.delegate("click",b.rbind(this._submitReportAbuse,this,j,g,c,i),"#raqsb")}if(e){if(ANSWERS.yi){e.on("click",b.rbind(this._handleQuestionFollow,this,e,j,h))}else{e.on("click",b.rbind(this._loginRedirect,this,e,j,h,a.FOLLOW_COOKIE_NAME))}}if(h.pending){if(h.pending[a.FOLLOW_COOKIE_NAME]){this._handleQuestionFollow(this,e,h.pending[a.FOLLOW_COOKIE_NAME].qid,h)}}if(c){var k=c.all(".ya-q-show-more");if(k){k.on("click",b.rbind(this._showMore,this))}}},_doHoverActionTile:function(d,g,c){var f=g.one(".raaf");if(f){if(c){f.removeClass("Op-0")}else{f.addClass("Op-0")}}},_submitReportAbuse:function(h,d,f,i){if(d&&i){var g=i.one("#raqta").get("value");var c=i.one("#raqform input[name=abtype]:checked").get("value");b.io("/_post?name=YAReportAbuseModule&abtype="+c,{method:"post",data:{crumb:ANSWERS.crumb,action:"reportq",abtype:c,desc:g,qid:d},arguments:{self:this,catId:f,errHolder:i.one("#raqdiv .ya-raq-err-holder")},on:{success:this._handleReportResponse}})}},_handleReportResponse:function(d,e,i){var k=i.self,h=i.catId,j=i.errHolder,c=b.JSON.parse(e.responseText),f=c.YAReportAbuseModule["status"]["http_code"];if(f==200||f==204){var g="/dir/index?sid="+h+"&rptabuse=1";window.location.href=g.replace(/&amp;/g,"&");b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qdetails",slk:"abuse",pos:1});return}else{b.fire(b.YA.Q.MsgHelper.EVENTS.SHOW,{type:b.YA.Q.MsgHelper.TYPE.ERR,msg:c.YAReportAbuseModule.html,target:j,duration:3000})}},_closeReportAbuse:function(d,f){var c=f.one(".report-abuse-holder");this._detachRA(c)},_detachRA:function(d){if(d){var c=d.one(a.RADIVCONTAINER);if(c){this._hideRA(c)}d.removeClass("selected")}},_checkIfLoggedOut:function(){if(ANSWERS.isSuspended===1){window.location="/account-on-hold";return 1}if(ANSWERS.yi===0){window.location.href=ANSWERS.loginURL;return 1}},_openReportAbuse:function(i,g,d){if(this._checkIfLoggedOut()){return}var j=i.currentTarget;var h=j?j.ancestor().get("parentNode").one(".report-abuse-holder"):null;var f=b.one(a.RADIVCONTAINER);if(h.hasClass("selected")){h.removeClass("selected");this._hideRA(f);b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qdetails",slk:"abuse",pos:1,keys:{itc:1,rspns:"clps"}})}else{var c=f.get("parentNode");if(c.hasClass("selected")){c.removeClass("selected")}if(c!=h){f.remove();h.appendChild(f)}h.addClass("selected");this._showRAInQuestion(f);f.focus();b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qdetails",slk:"abuse",pos:1,keys:{itc:1,rspns:"xpnd"}})}},_hideRA:function(e){var f=e.one("#raqdiv"),d=e.one("#raadiv"),g=e.one("#raadiv");f.addClass("D-n");d.addClass("D-n");g.addClass("D-n");e.addClass("D-n")},_showRAInQuestion:function(e){var f=e.one("#raqdiv"),d=e.one("#raadiv"),g=e.one("#racdiv");f.removeClass("D-n");d.addClass("D-n");g.addClass("D-n");e.removeClass("D-n")},_handleQuestionFollow:function(j,g,h,f){var d=g.one(a.SHARED_SPRITE),i=d.hasClass(a.FOLLOW_SELECTED),c=i?"unstar":"star";this._followText=f.follow;this._followingText=f.following;this._followingPText=f.followingP;this._doFollow(this,g,i);b.io("/_post?name=YAQuestionDetailsModule&qid="+h,{method:"post",data:{crumb:ANSWERS.crumb,action:"followQuestion",followType:c,qid:h},arguments:{self:this,followQuestionTile:g,isFollowed:i,cfg:f},on:{success:this._handleQuestionFollowSuccess}})},_handleQuestionFollowSuccess:function(d,e,k){var l=k.self,f=k.followQuestionTile,j=k.isFollowed,c=b.JSON.parse(e.responseText),g=c.YAQuestionDetailsModule["status"]["http_code"],h=null,i=k.cfg;if(i.pending[a.FOLLOW_COOKIE_NAME]){b.fire(b.YA.Cookie.Lib.NOTIFY.DELETE,{name:a.FOLLOW_COOKIE_NAME})}if(g!=204&&g!=200){l._doFollow(l,f,!j)}else{h=j?"qUnFollow":"qFollow";b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qdetails",slk:h,pos:1})}},_doFollow:function(i,d,h){var c=d.one(a.SHARED_SPRITE),j=d.one(a.FOLLOW_TEXT),f=j.get("innerHTML"),g=parseInt(j.getAttribute("data-ya-fc"));g=g>0?g:0;g=h?g-1:g+1;f=g>0?g>1?g+" "+this._followingPText:g+" "+this._followingText:this._followText;j.set("innerHTML",f);j.setAttribute("data-ya-fc",g);c.toggleClass(a.FOLLOW_SELECTED);c.toggleClass(a.FOLLOW_UNSELECTED)},_showMore:function(d){d.preventDefault();d.stopPropagation();var c=d.currentTarget.get("parentNode");c.one(".ya-q-show-more").addClass("D-n");c.one(".ya-q-text").addClass("D-n");c.one(".ya-q-full-text").removeClass("D-n").focus();b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qdetails",slk:"showmore",pos:1,keys:{itc:1,rspns:"xpnd"}})},_playYouTubeVideo:function(i){var f=i.currentTarget;var d=f.getAttribute("data-playerId");if(d.indexOf("p-in")==0){var c=f.get("parentNode").get("parentNode");var g=d.indexOf("-")+1;var h=d.substring(d.indexOf("-",g)+1);c.setHTML('<iframe width="392" height="222" src="https://www.youtube.com/embed/'+h+'?autoplay=1" frameborder="0" allowfullscreen></iframe>');b.fire(b.YA.Rapid.Track.NOTIFY.CLICK,{sec:"qdetails",slk:"youtube",pos:1,keys:{itc:1,rspns:"clps"}})}},_loginRedirect:function(i,g,d,c,f){var h=null;i.preventDefault();i.stopImmediatePropagation();if(g){h={qid:d};b.fire(b.YA.Cookie.Lib.NOTIFY.UPDATE,{name:f,data:h});window.location=this._loginUrl.replace("%7BURL%7D",encodeURIComponent(ANSWERS.doneURL+((ANSWERS.doneURL.indexOf("?")>0)?"&":"?")+"submit=y"))}}})},"0.0.1",{requires:["ya-base","io-base","ya-cookie"]});/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-stdmod",function(e,t){function H(e){}var n=e.Lang,r=e.Node,i=e.UA,s=e.Widget,o="",u="hd",a="bd",f="ft",l="header",c="body",h="footer",p="fillHeight",d="stdmod",v="Node",m="Content",g="firstChild",y="childNodes",b="ownerDocument",w="contentBox",E="height",S="offsetHeight",x="auto",T="headerContentChange",N="bodyContentChange",C="footerContentChange",k="fillHeightChange",L="heightChange",A="contentUpdate",O="renderUI",M="bindUI",_="syncUI",D="_applyParsedConfig",P=e.Widget.UI_SRC;H.HEADER=l,H.BODY=c,H.FOOTER=h,H.AFTER="after",H.BEFORE="before",H.REPLACE="replace";var B=H.HEADER,j=H.BODY,F=H.FOOTER,I=B+m,q=F+m,R=j+m;H.ATTRS={headerContent:{value:null},footerContent:{value:null},bodyContent:{value:null},fillHeight:{value:H.BODY,validator:function(e){return this._validateFillHeight(e)}}},H.HTML_PARSER={headerContent:function(e){return this._parseStdModHTML(B)},bodyContent:function(e){return this._parseStdModHTML(j)},footerContent:function(e){return this._parseStdModHTML(F)}},H.SECTION_CLASS_NAMES={header:s.getClassName(u),body:s.getClassName(a),footer:s.getClassName(f)},H.TEMPLATES={header:'<div class="'+H.SECTION_CLASS_NAMES[B]+'"></div>',body:'<div class="'+H.SECTION_CLASS_NAMES[j]+'"></div>',footer:'<div class="'+H.SECTION_CLASS_NAMES[F]+'"></div>'},H.prototype={initializer:function(){this._stdModNode=this.get(w),e.before(this._renderUIStdMod,this,O),e.before(this._bindUIStdMod,this,M),e.before(this._syncUIStdMod,this,_)},_syncUIStdMod:function(){var e=this._stdModParsed;(!e||!e[I])&&this._uiSetStdMod(B,this.get(I)),(!e||!e[R])&&this._uiSetStdMod(j,this.get(R)),(!e||!e[q])&&this._uiSetStdMod(F,this.get(q)),this._uiSetFillHeight(this.get(p))},_renderUIStdMod:function(){this._stdModNode.addClass(s.getClassName(d)),this._renderStdModSections(),this.after(T,this._afterHeaderChange),this.after(N,this._afterBodyChange),this.after(C,this._afterFooterChange)},_renderStdModSections:function(){n.isValue(this.get(I))&&this._renderStdMod(B),n.isValue(this.get(R))&&this._renderStdMod(j),n.isValue(this.get(q))&&this._renderStdMod(F)},_bindUIStdMod:function(){this.after(k,this._afterFillHeightChange),this.after(L,this._fillHeight),this.after(A,this._fillHeight)},_afterHeaderChange:function(e){e.src!==P&&this._uiSetStdMod(B,e.newVal,e.stdModPosition)},_afterBodyChange:function(e){e.src!==P&&this._uiSetStdMod(j,e.newVal,e.stdModPosition)},_afterFooterChange:function(e){e.src!==P&&this._uiSetStdMod(F,e.newVal,e.stdModPosition)},_afterFillHeightChange:function(e){this._uiSetFillHeight(e.newVal)},_validateFillHeight:function(e){return!e||e==H.BODY||e==H.HEADER||e==H.FOOTER},_uiSetFillHeight:function(e){var t=this.getStdModNode(e),n=this._currFillNode;n&&t!==n&&n.setStyle(E,o),t&&(this._currFillNode=t),this._fillHeight()},_fillHeight:function(){if(this.get(p)){var e=this.get(E);e!=o&&e!=x&&this.fillHeight(this.getStdModNode(this.get(p)))}},_uiSetStdMod:function(e,t,r){if(n.isValue(t)){var i=this.getStdModNode(e,!0);this._addStdModContent(i,t,r),this.set(e+m,this._getStdModContent(e),{src:P})}else this._eraseStdMod(e);this.fire(A)},_renderStdMod:function(e){var t=this.get(w),n=this._findStdModSection(e);return n||(n=this._getStdModTemplate(e)),this._insertStdModSection(t,e,n),this[e+v]=n,this[e+v]},_eraseStdMod:function(e){var t=this.getStdModNode(e);t&&(t.remove(!0),delete this[e+v])},_insertStdModSection:function(e,t,n){var r=e.get(g);if(t===F||!r)e.appendChild(n);else if(t===B)e.insertBefore(n,r);else{var i=this[F+v];i?e.insertBefore(n,i):e.appendChild(n)}},_getStdModTemplate:function(e){return r.create(H.TEMPLATES[e],this._stdModNode.get(b))},_addStdModContent:function(e,t,n){switch(n){case H.BEFORE:n=0;break;case H.AFTER:n=undefined;break;default:n=H.REPLACE}e.insert(t,n)},_getPreciseHeight:function(e){var t=e?e.get(S):0,n="getBoundingClientRect";if(e&&e.hasMethod(n)){var r=e.invoke(n);r&&(t=r.bottom-r.top)}return t},_findStdModSection:function(e){return this.get(w).one("> ."+H.SECTION_CLASS_NAMES[e])},_parseStdModHTML:function(t){var n=this._findStdModSection(t);return n?(this._stdModParsed||(this._stdModParsed={},e.before(this._applyStdModParsedConfig,this,D)),this._stdModParsed[t+m]=1,n.get("innerHTML")):null},_applyStdModParsedConfig:function(e,t,n){var r=this._stdModParsed;r&&(r[I]=!(I in t)&&I in r,r[R]=!(R in t)&&R in r,r[q]=!(q in t)&&q in r)},_getStdModContent:function(e){return this[e+v]?this[e+v].get(y):null},setStdModContent:function(e,t,n){this.set(e+m,t,{stdModPosition:n})},getStdModNode:function(e,t){var n=this[e+v]||null;return!n&&t&&(n=this._renderStdMod(e)),n},fillHeight:function(e){if(e){var t=this.get(w),r=[this.headerNode,this.bodyNode,this.footerNode],s,o,u=0,a=0,f=!1;for(var l=0,c=r.length;l<c;l++)s=r[l],s&&(s!==e?u+=this._getPreciseHeight(s):f=!0);f&&((i.ie||i.opera)&&e.set(S,0),o=t.get(S)-parseInt(t.getComputedStyle("paddingTop"),10)-parseInt(t.getComputedStyle("paddingBottom"),10)-parseInt(t.getComputedStyle("borderBottomWidth"),10)-parseInt(t.getComputedStyle("borderTopWidth"),10),n.isNumber(o)&&(a=o-u,a>=0&&e.set(S,a)))}}},e.WidgetStdMod=H},"3.17.2",{requires:["base-build","widget"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position",function(e,t){function d(e){}var n=e.Lang,r=e.Widget,i="xy",s="position",o="positioned",u="boundingBox",a="relative",f="renderUI",l="bindUI",c="syncUI",h=r.UI_SRC,p="xyChange";d.ATTRS={x:{setter:function(e){this._setX(e)},getter:function(){return this._getX()},lazyAdd:!1},y:{setter:function(e){this._setY(e)},getter:function(){return this._getY()},lazyAdd:!1},xy:{value:[0,0],validator:function(e){return this._validateXY(e)}}},d.POSITIONED_CLASS_NAME=r.getClassName(o),d.prototype={initializer:function(){this._posNode=this.get(u),e.after(this._renderUIPosition,this,f),e.after(this._syncUIPosition,this,c),e.after(this._bindUIPosition,this,l)},_renderUIPosition:function(){this._posNode.addClass(d.POSITIONED_CLASS_NAME)},_syncUIPosition:function(){var e=this._posNode;e.getStyle(s)===a&&this.syncXY(),this._uiSetXY(this.get(i))},_bindUIPosition:function(){this.after(p,this._afterXYChange)},move:function(){var e=arguments,t=n.isArray(e[0])?e[0]:[e[0],e[1]];this.set(i,t)},syncXY:function(){this.set(i,this._posNode.getXY(),{src:h})},_validateXY:function(e){return n.isArray(e)&&n.isNumber(e[0])&&n.isNumber(e[1])},_setX:function(e){this.set(i,[e,this.get(i)[1]])},_setY:function(e){this.set(i,[this.get(i)[0],e])},_getX:function(){return this.get(i)[0]},_getY:function(){return this.get(i)[1]},_afterXYChange:function(e){e.src!=h&&this._uiSetXY(e.newVal)},_uiSetXY:function(e){this._posNode.setXY(e)}},e.WidgetPosition=d},"3.17.2",{requires:["base-build","node-screen","widget"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-align",function(e,t){function c(e){}var n=e.Lang,r="align",i="alignOn",s="visible",o="boundingBox",u="offsetWidth",a="offsetHeight",f="region",l="viewportRegion";c.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:!1,value:!1},alignOn:{value:[],validator:e.Lang.isArray}},c.TL="tl",c.TR="tr",c.BL="bl",c.BR="br",c.TC="tc",c.RC="rc",c.BC="bc",c.LC="lc",c.CC="cc",c.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added"),e.after(this._bindUIPosAlign,this,"bindUI"),e.after(this._syncUIPosAlign,this,"syncUI")},_posAlignUIHandles:null,destructor:function(){this._detachPosAlignUIHandles()},_bindUIPosAlign:function(){this.after("alignChange",this._afterAlignChange),this.after("alignOnChange",this._afterAlignOnChange),this.after("visibleChange",this._syncUIPosAlign)},_syncUIPosAlign:function(){var e=this.get(r);this._uiSetVisiblePosAlign(this.get(s)),e&&this._uiSetAlign(e.node,e.points)},align:function(e,t){return arguments.length?this.set(r,{node:e,points:t}):this._syncUIPosAlign(),this},centered:function(e){return this.align(e,[c.CC,c.CC])},_setAlignCenter:function(e){return e&&this.set(r,{node:e===!0?null:e,points:[c.CC,c.CC]}),e},_uiSetAlign:function(t,r){if(!n.isArray(r)||r.length!==2){e.error("align: Invalid Points Arguments");return}var i=this._getRegion(t),s,o,u;if(!i)return;s=r[0],o=r[1];switch(o){case c.TL:u=[i.left,i.top];break;case c.TR:u=[i.right,i.top];break;case c.BL:u=[i.left,i.bottom];break;case c.BR:u=[i.right,i.bottom];break;case c.TC:u=[i.left+Math.floor(i.width/2),i.top];break;case c.BC:u=[i.left+Math.floor(i.width/2),i.bottom];break;case c.LC:u=[i.left,i.top+Math.floor(i.height/2)];break;case c.RC:u=[i.right,i.top+Math.floor(i.height/2)];break;case c.CC:u=[i.left+Math.floor(i.width/2),i.top+Math.floor(i.height/2)];break;default:}u&&this._doAlign(s,u[0],u[1])},_uiSetVisiblePosAlign:function(e){e?this._attachPosAlignUIHandles():this._detachPosAlignUIHandles()},_attachPosAlignUIHandles:function(){if(this._posAlignUIHandles)return;var t=this.get(o),n=e.bind(this._syncUIPosAlign,this),r=[];e.Array.each(this.get(i),function(i){var s=i.eventName,o=e.one(i.node)||t;s&&r.push(o.on(s,n))}),this._posAlignUIHandles=r},_detachPosAlignUIHandles:function(){var t=this._posAlignUIHandles;t&&((new e.EventHandle(t)).detach(),this._posAlignUIHandles=null)},_doAlign:function(e,t,n){var r=this._posNode,i;switch(e){case c.TL:i=[t,n];break;case c.TR:i=[t-r.get(u),n];break;case c.BL:i=[t,n-r.get(a)];break;case c.BR:i=[t-r.get(u),n-r.get(a)];break;case c.TC:i=[t-r.get(u)/2,n];break;case c.BC:i=[t-r.get(u)/2,n-r.get(a)];break;case c.LC:i=[t,n-r.get(a)/2];break;case c.RC:i=[t-r.get(u),n-r.get(a)/2];break;case c.CC:i=[t-r.get(u)/2,n-r.get(a)/2];break;default:}i&&this.move(i)},_getRegion:function(t){var n;return t?(t=e.Node.one(t),t&&(n=t.get(f))):n=this._posNode.get(l),n},_afterAlignChange:function(e){var t=e.newVal;t&&this._uiSetAlign(t.node,t.points)},_afterAlignOnChange:function(e){this._detachPosAlignUIHandles(),this.get(s)&&this._attachPosAlignUIHandles()}},e.WidgetPositionAlign=c},"3.17.2",{requires:["widget-position"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-stack",function(e,t){function O(e){}var n=e.Lang,r=e.UA,i=e.Node,s=e.Widget,o="zIndex",u="shim",a="visible",f="boundingBox",l="renderUI",c="bindUI",h="syncUI",p="offsetWidth",d="offsetHeight",v="parentNode",m="firstChild",g="ownerDocument",y="width",b="height",w="px",E="shimdeferred",S="shimresize",x="visibleChange",T="widthChange",N="heightChange",C="shimChange",k="zIndexChange",L="contentUpdate",A="stacked";O.ATTRS={shim:{value:r.ie==6},zIndex:{value:0,setter:"_setZIndex"}},O.HTML_PARSER={zIndex:function(e){return this._parseZIndex(e)}},O.SHIM_CLASS_NAME=s.getClassName(u),O.STACKED_CLASS_NAME=s.getClassName(A),O.SHIM_TEMPLATE='<iframe class="'+O.SHIM_CLASS_NAME+'" frameborder="0" title="Widget Stacking Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>',O.prototype={initializer:function(){this._stackNode=this.get(f),this._stackHandles={},e.after(this._renderUIStack,this,l),e.after(this._syncUIStack,this,h),e.after(this._bindUIStack,this,c)},_syncUIStack:function(){this._uiSetShim(this.get(u)),this._uiSetZIndex(this.get(o))},_bindUIStack:function(){this.after(C,this._afterShimChange),this.after(k,this._afterZIndexChange)},_renderUIStack:function(){this._stackNode.addClass(O.STACKED_CLASS_NAME)},_parseZIndex:function(e){var t;return!e.inDoc()||e.getStyle("position")==="static"?t="auto":t=e.getComputedStyle("zIndex"),t==="auto"?null:t},_setZIndex:function(e){return n.isString(e)&&(e=parseInt(e,10)),n.isNumber(e)||(e=0),e},_afterShimChange:function(e){this._uiSetShim(e.newVal)},_afterZIndexChange:function(e){this._uiSetZIndex(e.newVal)},_uiSetZIndex:function(e){this._stackNode.setStyle(o,e)},_uiSetShim:function(e){e?(this.get(a)?this._renderShim():this._renderShimDeferred(),r.ie==6&&this._addShimResizeHandlers()):this._destroyShim()},_renderShimDeferred:function(){this._stackHandles[E]=this._stackHandles[E]||[];var e=this._stackHandles[E],t=function(e){e.newVal&&this._renderShim()};e.push(this.on(x,t))},_addShimResizeHandlers:function(){this._stackHandles[S]=this._stackHandles[S]||[];var e=this.sizeShim,t=this._stackHandles[S];t.push(this.after(x,e)),t.push(this.after(T,e)),t.push(this.after(N,e)),t.push(this.after(L,e))},_detachStackHandles:function(e){var t=this._stackHandles[e],n;if(t&&t.length>0)while(n=t.pop())n.detach()},_renderShim:function(){var e=this._shimNode,t=this._stackNode;e||(e=this._shimNode=this._getShimTemplate(),t.insertBefore(e,t.get(m)),this._detachStackHandles(E),this.sizeShim())},_destroyShim:function(){this._shimNode&&(this._shimNode.get(v).removeChild(this._shimNode),this._shimNode=null,this._detachStackHandles(E),this._detachStackHandles(S))},sizeShim:function(){var e=this._shimNode,t=this._stackNode;e&&r.ie===6&&this.get(a)&&(e.setStyle(y,t.get(p)+w),e.setStyle(b,t.get(d)+w))},_getShimTemplate:function(){return i.create(O.SHIM_TEMPLATE,this._stackNode.get(g))}},e.WidgetStack=O},"3.17.2",{requires:["base-build","widget"],skinnable:!0});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-constrain",function(e,t){function m(e){}var n="constrain",r="constrain|xyChange",i="constrainChange",s="preventOverlap",o="align",u="",a="bindUI",f="xy",l="x",c="y",h=e.Node,p="viewportRegion",d="region",v;m.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:!1}},v=m._PREVENT_OVERLAP={x:{tltr:1,blbr:1,brbl:1,trtl:1},y:{trbr:1,tlbl:1,bltl:1,brtr:1}},m.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added"),e.after(this._bindUIPosConstrained,this,a)},getConstrainedXY:function(e,t){t=t||this.get(n);var r=this._getRegion(t===!0?null:t),i=this._posNode.get(d);return[this._constrain(e[0],l,i,r),this._constrain(e[1],c,i,r)]},constrain:function(e,t){var r,i,s=t||this.get(n);s&&(r=e||this.get(f),i=this.getConstrainedXY(r,s),(i[0]!==r[0]||i[1]!==r[1])&&this.set(f,i,{constrained:!0}))},_setConstrain:function(e){return e===!0?e:h.one(e)},_constrain:function(e,t,n,r){if(r){this.get(s)&&(e=this._preventOverlap(e,t,n,r));var i=t==l,o=i?r.width:r.height,u=i?n.width:n.height,a=i?r.left:r.top,f=i?r.right-u:r.bottom-u;if(e<a||e>f)u<o?e<a?e=a:e>f&&(e=f):e=a}return e},_preventOverlap:function(e,t,n,r){var i=this.get(o),s=t===l,a,f,c,h,p,d;return i&&i.points&&v[t][i.points.join(u)]&&(f=this._getRegion(i.node),f&&(a=s?n.width:n.height,c=s?f.left:f.top,h=s?f.right:f.bottom,p=s?f.left-r.left:f.top-r.top,d=s?r.right-f.right:r.bottom-f.bottom),e>c?d<a&&p>a&&(e=c-a):p<a&&d>a&&(e=h)),e},_bindUIPosConstrained:function(){this.after(i,this._afterConstrainChange),this._enableConstraints(this.get(n))},_afterConstrainChange:function(e){this._enableConstraints(e.newVal)},_enableConstraints:function(e){e?(this.constrain(),this._cxyHandle=this._cxyHandle||this.on(r,this._constrainOnXYChange)):this._cxyHandle&&(this._cxyHandle.detach(),this._cxyHandle=null)},_constrainOnXYChange:function(e){e.constrained||(e.newVal=this.getConstrainedXY(e.newVal))},_getRegion:function(e){var t;return e?(e=h.one(e),e&&(t=e.get(d))):t=this._posNode.get(p),t}},e.WidgetPositionConstrain=m},"3.17.2",{requires:["widget-position"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("overlay",function(e,t){e.Overlay=e.Base.create("overlay",e.Widget,[e.WidgetStdMod,e.WidgetPosition,e.WidgetStack,e.WidgetPositionAlign,e.WidgetPositionConstrain])},"3.17.2",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("color-base",function(e,t){var n=/^#?([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})(\ufffe)?/,r=/^#?([\da-fA-F]{1})([\da-fA-F]{1})([\da-fA-F]{1})(\ufffe)?/,i=/rgba?\(([\d]{1,3}), ?([\d]{1,3}), ?([\d]{1,3}),? ?([.\d]*)?\)/,s={HEX:"hex",RGB:"rgb",RGBA:"rgba"},o={hex:"toHex",rgb:"toRGB",rgba:"toRGBA"};e.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},REGEX_HEX:n,REGEX_HEX3:r,REGEX_RGB:i,re_RGB:i,re_hex:n,re_hex3:r,STR_HEX:"#{*}{*}{*}",STR_RGB:"rgb({*}, {*}, {*})",STR_RGBA:"rgba({*}, {*}, {*}, {*})",TYPES:s,CONVERTS:o,convert:function(t,n){var r=e.Color.CONVERTS[n.toLowerCase()],i=t;return r&&e.Color[r]&&(i=e.Color[r](t)),i},toHex:function(t){var n=e.Color._convertTo(t,"hex"),r=n.toLowerCase()==="transparent";return n.charAt(0)!=="#"&&!r&&(n="#"+n),r?n.toLowerCase():n.toUpperCase()},toRGB:function(t){var n=e.Color._convertTo(t,"rgb");return n.toLowerCase()},toRGBA:function(t){var n=e.Color._convertTo(t,"rgba");return n.toLowerCase()},toArray:function(t){var n=e.Color.findType(t).toUpperCase(),r,i,s,o;return n==="HEX"&&t.length<5&&(n="HEX3"),n.charAt(n.length-1)==="A"&&(n=n.slice(0,-1)),r=e.Color["REGEX_"+n],r&&(i=r.exec(t)||[],s=i.length,s&&(i.shift(),s--,n==="HEX3"&&(i[0]+=i[0],i[1]+=i[1],i[2]+=i[2]),o=i[s-1],o||(i[s-1]=1))),i},fromArray:function(t,n){t=t.concat();if(typeof n=="undefined")return t.join(", ");var r="{*}";n=e.Color["STR_"+n.toUpperCase()],t.length===3&&n.match(/\{\*\}/g).length===4&&t.push(1);while(n.indexOf(r)>=0&&t.length>0)n=n.replace(r,t.shift());return n},findType:function(t){if(e.Color.KEYWORDS[t])return"keyword";var n=t.indexOf("("),r;return n>0&&(r=t.substr(0,n)),r&&e.Color.TYPES[r.toUpperCase()]?e.Color.TYPES[r.toUpperCase()]:"hex"},_getAlpha:function(t){var n,r=e.Color.toArray(t);return r.length>3&&(n=r.pop()),+n||1},_keywordToHex:function(t){var n=e.Color.KEYWORDS[t];if(n)return n},_convertTo:function(t,n){if(t==="transparent")return t;var r=e.Color.findType(t),i=n,s,o,u,a;return r==="keyword"&&(t=e.Color._keywordToHex(t),r="hex"),r==="hex"&&t.length<5&&(t.charAt(0)==="#"&&(t=t.substr(1)),t="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),r===n?t:(r.charAt(r.length-1)==="a"&&(r=r.slice(0,-1)),s=n.charAt(n.length-1)==="a",s&&(n=n.slice(0,-1),o=e.Color._getAlpha(t)),a=n.charAt(0).toUpperCase()+n.substr(1).toLowerCase(),u=e.Color["_"+r+"To"+a],u||r!=="rgb"&&n!=="rgb"&&(t=e.Color["_"+r+"ToRgb"](t),r="rgb",u=e.Color["_"+r+"To"+a]),u&&(t=u(t,s)),s&&(e.Lang.isArray(t)||(t=e.Color.toArray(t)),t.push(o),t=e.Color.fromArray(t,i.toUpperCase())),t)},_hexToRgb:function(e,t){var n,r,i;return e.charAt(0)==="#"&&(e=e.substr(1)),e=parseInt(e,16),n=e>>16,r=e>>8&255,i=e&255,t?[n,r,i]:"rgb("+n+", "+r+", "+i+")"},_rgbToHex:function(t){var n=e.Color.toArray(t),r=n[2]|n[1]<<8|n[0]<<16;r=(+r).toString(16);while(r.length<6)r="0"+r;return"#"+r}}},"3.17.2",{requires:["yui-base"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-base",function(e,t){var n="running",r="startTime",i="elapsedTime",s="start",o="tween",u="end",a="node",f="paused",l="reverse",c="iterationCount",h=Number,p={},d;e.Anim=function(){e.Anim.superclass.constructor.apply(this,arguments),e.Anim._instances[e.stamp(this)]=this},e.Anim.NAME="anim",e.Anim._instances={},e.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i,e.Anim.DEFAULT_UNIT="px",e.Anim.DEFAULT_EASING=function(e,t,n,r){return n*e/r+t},e.Anim._intervalTime=20,e.Anim.behaviors={left:{get:function(e,t){return e._getOffset(t)}}},e.Anim.behaviors.top=e.Anim.behaviors.left,e.Anim.DEFAULT_SETTER=function(t,n,r,i,s,o,u,a){var f=t._node,l=f._node,c=u(s,h(r),h(i)-h(r),o);l?"style"in l&&(n in l.style||n in e.DOM.CUSTOM_STYLES)?(a=a||"",f.setStyle(n,c+a)):"attributes"in l&&n in l.attributes?f.setAttribute(n,c):n in l&&(l[n]=c):f.set?f.set(n,c):n in f&&(f[n]=c)},e.Anim.DEFAULT_GETTER=function(t,n){var r=t._node,i=r._node,s="";return i?"style"in i&&(n in i.style||n in e.DOM.CUSTOM_STYLES)?s=r.getComputedStyle(n):"attributes"in i&&n in i.attributes?s=r.getAttribute(n):n in i&&(s=i[n]):r.get?s=r.get(n):n in r&&(s=r[n]),s},e.Anim.ATTRS={node:{setter:function(t){return t&&(typeof t=="string"||t.nodeType)&&(t=e.one(t)),this._node=t,!t,t}},duration:{value:1},easing:{value:e.Anim.DEFAULT_EASING,setter:function(t){if(typeof t=="string"&&e.Easing)return e.Easing[t]}},from:{},to:{},startTime:{value:0,readOnly:!0},elapsedTime:{value:0,readOnly:!0},running:{getter:function(){return!!p[e.stamp(this)]},value:!1,readOnly:!0},iterations:{value:1},iterationCount:{value:0,readOnly:!0},direction:{value:"normal"},paused:{readOnly:!0,value:!1},reverse:{value:!1}},e.Anim.run=function(){var t=e.Anim._instances,n;for(n in t)t[n].run&&t[n].run()},e.Anim.pause=function(){for(var t in p)p[t].pause&&p[t].pause();e.Anim._stopTimer()},e.Anim.stop=function(){for(var t in p)p[t].stop&&p[t].stop();e.Anim._stopTimer()},e.Anim._startTimer=function(){d||(d=setInterval(e.Anim._runFrame,e.Anim._intervalTime))},e.Anim._stopTimer=function(){clearInterval(d),d=0},e.Anim._runFrame=function(){var t=!0,n;for(n in p)p[n]._runFrame&&(t=!1,p[n]._runFrame());t&&e.Anim._stopTimer()},e.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var v={run:function(){return this.get(f)?this._resume():this.get(n)||this._start(),this},pause:function(){return this.get(n)&&this._pause(),this},stop:function(e){return(this.get(n)||this.get(f))&&this._end(e),this},_added:!1,_start:function(){this._set(r,new Date-this.get(i)),this._actualFrames=0,this.get(f)||this._initAnimAttr(),p[e.stamp(this)]=this,e.Anim._startTimer(),this.fire(s)},_pause:function(){this._set(r,null),this._set(f,!0),delete p[e.stamp(this)],this.fire("pause")},_resume:function(){this._set(f,!1),p[e.stamp(this)]=this,this._set(r,new Date-this.get(i)),e.Anim._startTimer(),this.fire("resume")},_end:function(t){var n=this.get("duration")*1e3;t&&this._runAttrs(n,n,this.get(l)),this._set(r,null),this._set(i,0),this._set(f,!1),delete p[e.stamp(this)],this.fire(u,{elapsed:this.get(i)})},_runFrame:function(){var e=this._runtimeAttr.duration,t=new Date-this.get(r),n=this.get(l),s=t>=e;this._runAttrs(t,e,n),this._actualFrames+=1,this._set(i,t),this.fire(o),s&&this._lastFrame()},_runAttrs:function(t,n,r){var i=this._runtimeAttr,s=e.Anim.behaviors,o=i.easing,u=n,a=!1,f,l,c;t>=n&&(a=!0),r&&(t=n-t,u=0);for(c in i)i[c].to&&(f=i[c],l=c in s&&"set"in s[c]?s[c].set:e.Anim.DEFAULT_SETTER,a?l(this,c,f.from,f.to,u,n,o,f.unit):l(this,c,f.from,f.to,t,n,o,f.unit))},_lastFrame:function(){var e=this.get("iterations"),t=this.get(c);t+=1,e==="infinite"||t<e?(this.get("direction")==="alternate"&&this.set(l,!this.get(l)),this.fire("iteration")):(t=0,this._end()),this._set(r,new Date),this._set(c,t)},_initAnimAttr:function(){var t=this.get("from")||{},n=this.get("to")||{},r={duration:this.get("duration")*1e3,easing:this.get("easing")},i=e.Anim.behaviors,s=this.get(a),o,u,f;e.each(n,function(n,a){typeof n=="function"&&(n=n.call(this,s)),u=t[a],u===undefined?u=a in i&&"get"in i[a]?i[a].get(this,a):e.Anim.DEFAULT_GETTER(this,a):typeof u=="function"&&(u=u.call(this,s));var l=e.Anim.RE_UNITS.exec(u),c=e.Anim.RE_UNITS.exec(n);u=l?l[1]:u,f=c?c[1]:n,o=c?c[2]:l?l[2]:"",!o&&e.Anim.RE_DEFAULT_UNIT.test(a)&&(o=e.Anim.DEFAULT_UNIT);if(!u||!f){e.error('invalid "from" or "to" for "'+a+'"',"Anim");return}r[a]={from:e.Lang.isObject(u)?e.clone(u):u,to:f,unit:o}},this),this._runtimeAttr=r},_getOffset:function(e){var t=this._node,n=t.getComputedStyle(e),r=e==="left"?"getX":"getY",i=e==="left"?"setX":"setY",s;return n==="auto"&&(s=t.getStyle("position"),s==="absolute"||s==="fixed"?(n=t[r](),t[i](n)):n=0),n},destructor:function(){delete e.Anim._instances[e.stamp(this)]}};e.extend(e.Anim,e.Base,v)},"3.17.2",{requires:["base-base","node-style","color-base"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-anim",function(e,t){function b(e){b.superclass.constructor.apply(this,arguments)}var n="boundingBox",r="host",i="node",s="opacity",o="",u="visible",a="destroy",f="hidden",l="rendered",c="start",h="end",p="duration",d="animShow",v="animHide",m="_uiSetVisible",g="animShowChange",y="animHideChange";b.NS="anim",b.NAME="pluginWidgetAnim",b.ANIMATIONS={fadeIn:function(){var t=this.get(r),f=t.get(n),l=new e.Anim({node:f,to:{opacity:1},duration:this.get(p)});return t.get(u)||f.setStyle(s,0),l.on(a,function(){this.get(i).setStyle(s,e.UA.ie?1:o)}),l},fadeOut:function(){return new e.Anim({node:this.get(r).get(n),to:{opacity:0},duration:this.get(p)})}},b.ATTRS={duration:{value:.2},animShow:{valueFn:b.ANIMATIONS.fadeIn},animHide:{valueFn:b.ANIMATIONS.fadeOut}},e.extend(b,e.Plugin.Base,{initializer:function(e){this._bindAnimShow(),this._bindAnimHide(),this.after(g,this._bindAnimShow),this.after(y,this._bindAnimHide),this.beforeHostMethod(m,this._uiAnimSetVisible)},destructor:function(){this.get(d).destroy(),this.get(v).destroy()},_uiAnimSetVisible:function(t){if(this.get(r).get(l))return t?(this.get(v).stop(),this.get(d).run()):(this.get(d).stop(),this.get(v).run()),new e.Do.Prevent},_uiSetVisible:function(e){var t=this.get(r),i=t.getClassName(f);t.get(n).toggleClass(i,!e)},_bindAnimShow:function(){this.get(d).on(c,e.bind(function(){this._uiSetVisible(!0)},this))},_bindAnimHide:function(){this.get(v).after(h,e.bind(function(){this._uiSetVisible(!1)},this))}}),e.namespace("Plugin").WidgetAnim=b},"3.17.2",{requires:["anim-base","plugin","widget"]});
